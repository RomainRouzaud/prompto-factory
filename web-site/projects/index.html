<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="../../favicon.ico">

<title>Prompto Development Center</title>

<!-- Bootstrap core CSS -->
<link href="../css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="../css/prompto-frame.css" rel="stylesheet">


<script src="../js/lib/jquery.min.js"></script>
<script src="../js/lib/bootstrap.min.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../js/lib/ie10-viewport-bug-workaround.js"></script>
<script src="../js/lib/FileSaver.js"></script>
<script src="../js/lib/react.js"></script>
<script src="../js/lib/react-dom.js"></script>
<script src="../js/lib/dev-center-widgets.js"></script>
<script src="../js/lib/babel.min.js"></script>
<script type="text/babel" src="../js/projects/index.jsx"></script>

<!--
<script type="text/javascript">

    $(document).ready(function() {
        getRecentModules();
        getAllModules();
        prepareNewProjectDialog();
        prepareProjectContextualMenu();
    });

    var projectContextMenu;

    function prepareProjectContextualMenu() {
        projectContextMenu = $("#project-context-menu");
        projectContextMenu.on("click", "a", function() {
            projectContextMenu.hide();
        });
        $('body').click(function () {
            projectContextMenu.hide();
        });
    }


    function deleteProject(dbId) {
        var url = '/ws/run/deleteModule?params=[{"name":"dbId", "value":"' + dbId.toString() + '"}]';
        $.getJSON(url, null, function() {
            getRecentModules();
            getAllModules();
        });
    }

    function createNewModule() {
        var formData = new FormData();
        var type = $('.active[id^=new-module-type-]')[0].id.substring("new-module-type-".length);
        var name = document.getElementById('new-module-name-text').value;
        var description = document.getElementById('new-module-description-text').value;
        var create = document.getElementById('new-module-entry-point-create').checked;
        var entryPoint = document.getElementById('new-module-entry-point-text').value;
        var image = null;
        var files = document.getElementById('new-module-icon-file').files;
        if(files.length) {
            image = { mimeType: files[0].type, partName: "@" + files[0].name };
            formData.append(image.partName, files[0]);
        }
        var params = [
            {name: "type", type: "Text", value: type},
            {name: "name", type: "Text", value: name},
            {name: "description", type: "Text", value: description},
            {name: "createEntryPoint", type: "Boolean", value: create},
            {name: "entryPoint", type: "Text", value: entryPoint},
            {name: "image", type: "Image", value: image}
        ];
        formData.append("params", JSON.stringify(params));
        $.ajax({
            url: "/ws/run/createModule",
            type: 'POST',
            data: formData,
            async: true,
            cache: false,
            contentType: false,
            processData: false,
            error: function (xhr, status, thrown) {
                alert(thrown);
            },
            success: function (returndata) {
                getAllModules();
            }
        });
    };



</script>
-->

</head>

<body>
    <div id="projects-viewer"/>
    <div id="project-context-menu" class="dropdown clearfix" style="position: absolute; display: none">
        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu" style="display:block;position:static;margin-bottom:5px;">
            <li><a id="export-link" tabindex="-1" href="#" target="_blank">Export</a></li>
            <li><a id="delete-link" tabindex="-1" href="#">Delete</a></li>
        </ul>
    </div>
</body>
</html>

