{"version":3,"sources":["webpack://ResourceEditors/webpack/bootstrap","webpack://ResourceEditors/./node_modules/axios/index.js","webpack://ResourceEditors/./node_modules/axios/lib/adapters/xhr.js","webpack://ResourceEditors/./node_modules/axios/lib/axios.js","webpack://ResourceEditors/./node_modules/axios/lib/cancel/Cancel.js","webpack://ResourceEditors/./node_modules/axios/lib/cancel/CancelToken.js","webpack://ResourceEditors/./node_modules/axios/lib/cancel/isCancel.js","webpack://ResourceEditors/./node_modules/axios/lib/core/Axios.js","webpack://ResourceEditors/./node_modules/axios/lib/core/InterceptorManager.js","webpack://ResourceEditors/./node_modules/axios/lib/core/buildFullPath.js","webpack://ResourceEditors/./node_modules/axios/lib/core/createError.js","webpack://ResourceEditors/./node_modules/axios/lib/core/dispatchRequest.js","webpack://ResourceEditors/./node_modules/axios/lib/core/enhanceError.js","webpack://ResourceEditors/./node_modules/axios/lib/core/mergeConfig.js","webpack://ResourceEditors/./node_modules/axios/lib/core/settle.js","webpack://ResourceEditors/./node_modules/axios/lib/core/transformData.js","webpack://ResourceEditors/./node_modules/axios/lib/defaults.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/bind.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/buildURL.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/combineURLs.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/cookies.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://ResourceEditors/./node_modules/axios/lib/helpers/spread.js","webpack://ResourceEditors/./node_modules/axios/lib/utils.js","webpack://ResourceEditors/./src/worker/PromptoWorkerThread.js","webpack://ResourceEditors/./node_modules/process/browser.js","webpack://ResourceEditors/(webpack)/buildin/global.js","webpack://ResourceEditors/./src/ace/Anchor.js","webpack://ResourceEditors/./src/ace/Document.js","webpack://ResourceEditors/./src/ace/EventEmitter.js","webpack://ResourceEditors/./src/ace/Mirror.js","webpack://ResourceEditors/./src/ace/Range.js","webpack://ResourceEditors/./src/ace/Sender.js","webpack://ResourceEditors/./src/ace/lang.js","webpack://ResourceEditors/./src/code/Catalog.js","webpack://ResourceEditors/./src/code/CodeUtils.js","webpack://ResourceEditors/./src/code/Defaults.js","webpack://ResourceEditors/./src/code/Delta.js","webpack://ResourceEditors/./src/code/Repository.js","webpack://ResourceEditors/./src/runner/LocalInterpreter.js","webpack://ResourceEditors/./src/runner/Runner.js","webpack://ResourceEditors/./src/utils/Fetcher.js","webpack://ResourceEditors/./src/worker/Globals.js","webpack://ResourceEditors/./src/worker/PromptoWorker.js"],"names":["sender","Sender","worker","PromptoWorker","globals","self","onmessage","e","msg","data","event","_signal","command","apply","args","Error","init","$pointsInOrder","point1","point2","equalPointsInOrder","bColIsAfter","column","row","$getTransformedPoint","delta","point","moveIfEqual","deltaIsInsert","action","deltaRowShift","end","start","deltaColShift","deltaStart","deltaEnd","Anchor","constructor","doc","$onChange","onChange","bind","attach","setPosition","$insertRight","getPosition","$clipPositionToDocument","getDocument","document","noClip","pos","old","value","detach","removeEventListener","on","getLength","Math","max","getLine","length","min","applyDelta","docLines","doNotValidate","startColumn","line","lines","substring","concat","splice","endColumn","endRow","Document","EventEmitter","textOrLines","$lines","$autoNewLine","$newLineMode","Array","isArray","insertMergedLines","insert","setValue","text","len","remove","Range","getValue","getAllLines","join","getNewLineCharacter","createAnchor","$split","split","$detectNewLine","match","setNewLineMode","newLineMode","getNewLineMode","isNewLine","getLines","firstRow","lastRow","slice","getTextRange","range","getLinesForRange","l","insertLines","console","warn","insertFullLines","removeLines","removeFullLines","insertNewLine","position","insertInLine","clippedPos","clonePos","undefined","$clipPosition","removeInLine","deleteFirstNewLine","deleteLastNewLine","startRow","startCol","endCol","deletedLines","removeNewLine","replace","fromPoints","isEmpty","applyDeltas","deltas","i","revertDeltas","revertDelta","isInsert","comparePoints","$splitAndapplyLargeDelta","MAX","from","to","chunk","push","indexToPosition","index","newlineLength","positionToIndex","stopPropagation","propagationStopped","preventDefault","defaultPrevented","_emit","_dispatchEvent","addEventListener","off","removeListener","dispatchEvent","eventName","_eventRegistry","_defaultHandlers","listeners","defaultHandler","type","once","callback","_self","newCallback","arguments","Promise","resolve","setDefaultHandler","handlers","_disabled_","disabled","indexOf","removeDefaultHandler","pop","capturing","removeAllListeners","Mirror","$timeout","deferredUpdate","delayedCall","onUpdate","processChange","processChanges","changes","applyChange","invokeUpdate","change","schedule","d","setTimeout","timeout","callbackId","isPending","isEqual","toString","contains","compare","compareRange","cmp","comparePoint","p","containsRange","intersects","isEnd","isStart","setStart","setEnd","inside","insideStart","insideEnd","isMultiLine","compareStart","compareEnd","compareInside","clipRows","extend","clone","collapseRows","toScreenRange","session","screenPosStart","documentToScreenPosition","screenPosEnd","p1","p2","postMessage","id","emit","name","last","a","stringReverse","string","reverse","stringRepeat","count","result","trimBeginRegexp","trimEndRegexp","stringTrimLeft","stringTrimRight","copyObject","obj","copy","key","copyArray","array","deepCopy","Object","prototype","call","arrayToMap","arr","map","createMap","props","create","arrayRemove","escapeRegExp","str","escapeHTML","getMatchOffsets","regExp","matches","offset","deferredCall","fcn","timer","deferred","cancel","clearTimeout","defaultTimeout","delay","prompto","linkPrompto","global","window","Catalog","decls","globalContext","filterContext","readCatalog","filterOutDeclarations","getCodebaseLength","content","loadCatalog","attributes","categories","enumerations","methods","tests","widgets","context","runtime","Context","newGlobalsContext","problemListener","problem","ProblemCollector","register","catalog","getLocalCatalog","convertDocumentToObject","filterOutObjects","filterOutMethods","filter","contextForDeclaration","method","filterOutMethod","protos","getRegisteredDeclaration","proto","hasPrototype","inferDialect","path","toUpperCase","newParser","input","dialect","listener","klass","parser","removeErrorListeners","addErrorListener","parse","forEach","decl","sourceCode","body","fetchBody","unparse","Dialect","writer","utils","CodeWriter","newChildContext","comments","cmt","toDialect","annotations","ann","translate","sortBy","f","sort","i1","i2","makeValidId","codebase","getFirstCodebaseEntry","getContentFromEntry","entry","subType","core","recursivelyConvertDocumentToObject","object","getOwnPropertyNames","recursivelyConvertObjectToDocument","convertObjectToDocument","Delta","removed","added","getContent","getFirstAdded","list","filterOutDuplicates","filterOutDuplicatesInField","field","fn","filterOutDuplicatesInLists","filterOutDuplicatesInMethods","b","j","va","vb","adjustForMovingProtos","keys","isModifiedProto","adjustMethodForRemovedProtos","adjustMethodForAddedProtos","proto_to_remove","proto_to_add","m","findPreExistingProto","proto_to_move","main","isEligibleAsMain","findOrCreateMethod","hasOwnProperty","found","adjustMethodForRemovedProto","current","created","profiling","Repository","librariesContext","projectContext","setParentContext","moduleId","lastSuccess","declaration","DeclarationList","statuses","reset","registerLibraryCode","code","registerLibraryDeclarations","declarations","clearLibrariesContext","publishLibraries","getCatalog","library","publishProject","project","unpublishProject","registerProjectDeclarations","progress","totalCount","actualCount","module","dependencies","image","registerClean","getDeclarationBody","getDeclaration","getRegisteredTest","methodsMap","getFirst","idFromDbDecl","dbDecl","idFromContent","idFromDecl","getProto","stuff","editStatus","registerDestroyed","obj_status","registerDirty","decl_obj","existing","storable","symbols","s","derivedFrom","version","dbId","getDeclarationType","markChangesCommitted","storedDecls","storedDecl","clearDeleted","deleted","getEditedDeclarations","contents","status","handleDestroyed","unregister","handleSetContent","doHandleSetContent","handleUnhandled","saved_listener","check","handleEditContent","selected","doHandleEditContent","problems","startLine","endLine","message","collectProblem","startTime","Date","now","old_decls","new_decls","parseEndTime","logDebug","checkDuplicates","duplicatesEndTime","updateCodebase","updateEndTime","$delta","editedCount","newContent","some","isDuplicate","reportDuplicate","MethodDeclarationMap","BaseMethodDeclaration","hasProto","changedIdsCount","handled","updateRenamed","updateAppContext","decls_with_status","new_decl","new_id","new_status","orphan_decls","old_decl","old_id","old_status","locateContent","stackFrame","categoryName","locateCategoryContent","locateMethodContent","subTypeFromDeclaration","EnumeratedCategoryDeclaration","EnumeratedNativeDeclaration","testMethod","methodName","methodProto","locateSection","breakpoint","section","locateSectionAtLine","Section","asObject","LocalInterpreter","Runner","runMethod","repo","methodRef","Interpreter","interpret","runTest","testRef","store","$DataStore","instance","memstore","MemStore","interpretTest","projectId","Fetcher","$authorization","onSuccess","prepareConfig","collectHeaders","url","headers","withCredentials","postJSON","params","success","errored","postTEXT","json","JSON","log","config","axios","post","then","resp","catch","getJSON","getTEXT","get","response","clearModuleContext","stringify","error","alert","fetchModulePort","fetchModuleURL","port","href","location","protocol","hostname","Honey","importScripts","trace","AnnotatingErrorListener","pc","$projectId","$project","$dialect","Defaults","$value","$repo","$loading","$selected","onInit","markLoading","loadCore","markLoaded","setProject","loadDependencies","loadProject","setContent","clearValue","errorListener","setDialect","getContentBody","getEditedContents","edited","destroyContent","fetchProjectDescription","handleError","stubResource","stack","fetchModuleDeclarations","cursor","items","dep","loadDependency","dependency","fetchModuleDescription","dependenciesUpdated","complete","oldLog","runner"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA,iBAAiB,mBAAO,CAAC,sDAAa,E;;;;;;;;;;;;ACAzB;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,aAAa,mBAAO,CAAC,iEAAkB;AACvC,cAAc,mBAAO,CAAC,yEAAsB;AAC5C,eAAe,mBAAO,CAAC,2EAAuB;AAC9C,oBAAoB,mBAAO,CAAC,6EAAuB;AACnD,mBAAmB,mBAAO,CAAC,mFAA2B;AACtD,sBAAsB,mBAAO,CAAC,yFAA8B;AAC5D,kBAAkB,mBAAO,CAAC,yEAAqB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AClLa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,WAAW,mBAAO,CAAC,gEAAgB;AACnC,YAAY,mBAAO,CAAC,4DAAc;AAClC,kBAAkB,mBAAO,CAAC,wEAAoB;AAC9C,eAAe,mBAAO,CAAC,wDAAY;;AAEnC;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,MAAM;AAClB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,eAAe,mBAAO,CAAC,kEAAiB;AACxC,oBAAoB,mBAAO,CAAC,4EAAsB;AAClD,iBAAiB,mBAAO,CAAC,sEAAmB;;AAE5C;AACA;AACA;AACA;AACA,eAAe,mBAAO,CAAC,oEAAkB;;AAEzC;;AAEA;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;;AClBa;;AAEb,aAAa,mBAAO,CAAC,2DAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;ACxDa;;AAEb;AACA;AACA;;;;;;;;;;;;;ACJa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,eAAe,mBAAO,CAAC,yEAAqB;AAC5C,yBAAyB,mBAAO,CAAC,iFAAsB;AACvD,sBAAsB,mBAAO,CAAC,2EAAmB;AACjD,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,yBAAyB;AACzB,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;;;;;;AC9Fa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;;;;;;ACnDa;;AAEb,oBAAoB,mBAAO,CAAC,mFAA0B;AACtD,kBAAkB,mBAAO,CAAC,+EAAwB;;AAElD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;;AAEb,mBAAmB,mBAAO,CAAC,qEAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;AAChC,oBAAoB,mBAAO,CAAC,uEAAiB;AAC7C,eAAe,mBAAO,CAAC,uEAAoB;AAC3C,eAAe,mBAAO,CAAC,yDAAa;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzCa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,2BAA2B;AAC3B,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;;;;;;;;;;;;;ACtFa;;AAEb,kBAAkB,mBAAO,CAAC,mEAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACxBa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACnBA,+CAAa;;AAEb,YAAY,mBAAO,CAAC,kDAAS;AAC7B,0BAA0B,mBAAO,CAAC,8FAA+B;;AAEjE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,gEAAgB;AACtC,GAAG;AACH;AACA,cAAc,mBAAO,CAAC,iEAAiB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO,YAAY;AACnB;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;ACjGa;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACrEa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,0CAA0C;AAC1C,SAAS;;AAET;AACA,4DAA4D,wBAAwB;AACpF;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,kCAAkC;AAClC,+BAA+B,aAAa,EAAE;AAC9C;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACba;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,mDAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACXa;;AAEb,YAAY,mBAAO,CAAC,qDAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;;;;;;ACpDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1Ba;;AAEb,WAAW,mBAAO,CAAC,gEAAgB;;AAEnC;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C,2BAA2B;AAC3B;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,4BAA4B;AAC5B,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9VA;AAAA;AAAA;AAAA;AAAA;AAIA,GAAIA,OAAM,CAAG,GAAIC,oDAAJ,EAAb,CACA,GAAIC,OAAM,CAAG,GAAIC,uDAAJ,CAAkBH,MAAlB,CAAb,CAEA;AACA,GAAMI,QAAO,CAAGC,IAAhB,CAEAC,SAAS,CAAG,mBAASC,CAAT,CAAY,CACpB,GAAIC,IAAG,CAAGD,CAAC,CAACE,IAAZ,CACA,GAAID,GAAG,CAACE,KAAJ,EAAaV,MAAjB,CAAyB,CACrBA,MAAM,CAACW,OAAP,CAAeH,GAAG,CAACE,KAAnB,CAA0BF,GAAG,CAACC,IAA9B,EACH,CAFD,IAEO,IAAID,GAAG,CAACI,OAAR,CAAiB,CACpB,GAAIV,MAAM,CAACM,GAAG,CAACI,OAAL,CAAV,CACIV,MAAM,CAACM,GAAG,CAACI,OAAL,CAAN,CAAoBC,KAApB,CAA0BX,MAA1B,CAAkCM,GAAG,CAACM,IAAtC,EADJ,IAEK,IAAIV,OAAO,CAACI,GAAG,CAACI,OAAL,CAAX,CACDR,OAAO,CAACI,GAAG,CAACI,OAAL,CAAP,CAAqBC,KAArB,CAA2BT,OAA3B,CAAoCI,GAAG,CAACM,IAAxC,EADC,IAGD,MAAM,IAAIC,MAAJ,CAAU,oBAAsBP,GAAG,CAACI,OAApC,CAAN,CACP,CAPM,IAOA,IAAIJ,GAAG,CAACQ,IAAR,CAAc,CACjB;AACH,CACJ,CAdD,C;;;;;;;;;;;ACVA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;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","file":"main.worker.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./node_modules/babel-loader/lib/index.js!./node_modules/eslint-loader/dist/cjs.js!./node_modules/webpack-conditional-loader/src/index.js!./src/worker/PromptoWorkerThread.js\");\n","module.exports = require('./lib/axios');","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","import './Globals';\nimport Sender from '../ace/Sender';\nimport PromptoWorker from './PromptoWorker';\n\nvar sender = new Sender();\nvar worker = new PromptoWorker(sender);\n\n// eslint-disable-next-line\nconst globals = self;\n\nonmessage = function(e) {\n    var msg = e.data;\n    if (msg.event && sender) {\n        sender._signal(msg.event, msg.data);\n    } else if (msg.command) {\n        if (worker[msg.command])\n            worker[msg.command].apply(worker, msg.args);\n        else if (globals[msg.command])\n            globals[msg.command].apply(globals, msg.args);\n        else\n            throw new Error(\"Unknown command: \" + msg.command);\n    } else if (msg.init) {\n        // console.log(\"init\");\n    }\n};\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n\nfunction $pointsInOrder(point1, point2, equalPointsInOrder) {\n    var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n    return (point1.row < point2.row) || (point1.row === point2.row && bColIsAfter);\n}\n\nfunction $getTransformedPoint(delta, point, moveIfEqual) {\n    // Get delta info.\n    var deltaIsInsert = delta.action === \"insert\";\n    var deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row    - delta.start.row);\n    var deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column);\n    var deltaStart = delta.start;\n    var deltaEnd = deltaIsInsert ? deltaStart : delta.end; // Collapse insert range.\n\n    // DELTA AFTER POINT: No change needed.\n    if ($pointsInOrder(point, deltaStart, moveIfEqual)) {\n        return {\n            row: point.row,\n            column: point.column\n        };\n    }\n\n    // DELTA BEFORE POINT: Move point by delta shift.\n    if ($pointsInOrder(deltaEnd, point, !moveIfEqual)) {\n        return {\n            row: point.row + deltaRowShift,\n            column: point.column + (point.row === deltaEnd.row ? deltaColShift : 0)\n        };\n    }\n\n    // DELTA ENVELOPS POINT (delete only): Move point to delta start.\n    // TODO warn if delta.action != \"remove\" ?\n\n    return {\n        row: deltaStart.row,\n        column: deltaStart.column\n    };\n}\n\n/**\n *\n * Defines a floating pointer in the document. Whenever text is inserted or deleted before the cursor, the position of the anchor is updated.\n *\n * @class Anchor\n **/\n\n/**\n * Creates a new `Anchor` and associates it with a document.\n *\n * @param {Document} doc The document to associate with the anchor\n * @param {Number} row The starting row position\n * @param {Number} column The starting column position\n *\n * @constructor\n **/\n\n export default class Anchor {\n\n     constructor(doc, row, column) {\n        this.$onChange = this.onChange.bind(this);\n        this.attach(doc);\n\n        if (typeof column == \"undefined\")\n            this.setPosition(row.row, row.column);\n        else\n            this.setPosition(row, column);\n         /**\n          * experimental: allows anchor to stick to the next on the left\n          */\n         this.$insertRight = false;\n    }\n\n    /**\n     * Returns an object identifying the `row` and `column` position of the current anchor.\n     * @returns {Object}\n     **/\n    getPosition() {\n        return this.$clipPositionToDocument(this.row, this.column);\n    }\n\n    /**\n     *\n     * Returns the current document.\n     * @returns {Document}\n     **/\n    getDocument() {\n        return this.document;\n    }\n\n    /**\n     * Fires whenever the anchor position changes.\n     *\n     * Both of these objects have a `row` and `column` property corresponding to the position.\n     *\n     * Events that can trigger this function include [[Anchor.setPosition `setPosition()`]].\n     *\n     * @event change\n     * @param {Object} e  An object containing information about the anchor position. It has two properties:\n     *  - `old`: An object describing the old Anchor position\n     *  - `value`: An object describing the new Anchor position\n     *\n     **/\n    onChange(delta) {\n        if (delta.start.row === delta.end.row && delta.start.row !== this.row)\n            return;\n\n        if (delta.start.row > this.row)\n            return;\n\n        var point = $getTransformedPoint(delta, {row: this.row, column: this.column}, this.$insertRight);\n        this.setPosition(point.row, point.column, true);\n    }\n\n\n    /**\n     * Sets the anchor position to the specified row and column. If `noClip` is `true`, the position is not clipped.\n     * @param {Number} row The row index to move the anchor to\n     * @param {Number} column The column index to move the anchor to\n     * @param {Boolean} noClip Identifies if you want the position to be clipped\n     *\n     **/\n    setPosition(row, column, noClip) {\n        var pos;\n        if (noClip) {\n            pos = {\n                row: row,\n                column: column\n            };\n        } else {\n            pos = this.$clipPositionToDocument(row, column);\n        }\n\n        if (this.row === pos.row && this.column === pos.column)\n            return;\n\n        var old = {\n            row: this.row,\n            column: this.column\n        };\n\n        this.row = pos.row;\n        this.column = pos.column;\n        this._signal(\"change\", {\n            old: old,\n            value: pos\n        });\n    }\n\n    /**\n     * When called, the `\"change\"` event listener is removed.\n     *\n     **/\n    detach() {\n        this.document.removeEventListener(\"change\", this.$onChange);\n    }\n\n    attach(doc) {\n        this.document = doc || this.document;\n        this.document.on(\"change\", this.$onChange);\n    }\n\n    /**\n     * Clips the anchor position to the specified row and column.\n     * @param {Number} row The row index to clip the anchor to\n     * @param {Number} column The column index to clip the anchor to\n     *\n     **/\n    $clipPositionToDocument(row, column) {\n        var pos = {};\n\n        if (row >= this.document.getLength()) {\n            pos.row = Math.max(0, this.document.getLength() - 1);\n            pos.column = this.document.getLine(pos.row).length;\n        }\n        else if (row < 0) {\n            pos.row = 0;\n            pos.column = 0;\n        }\n        else {\n            pos.row = row;\n            pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column));\n        }\n\n        if (column < 0)\n            pos.column = 0;\n\n        return pos;\n    }\n\n}","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n\nimport Range from './Range';\nimport Anchor from './Anchor';\nimport EventEmitter from './EventEmitter';\n\n/*\nfunction throwDeltaError(delta, errorText){\n    console.log(\"Invalid Delta:\", delta);\n    throw new Error(\"Invalid Delta: \" + errorText);\n}\n\nfunction positionInDocument(docLines, position) {\n    return position.row    >= 0 && position.row    <  docLines.length &&\n        position.column >= 0 && position.column <= docLines[position.row].length;\n}\n\n\nfunction validateDelta(docLines, delta) {\n    // Validate action string.\n    if (delta.action != \"insert\" && delta.action != \"remove\")\n        throwDeltaError(delta, \"delta.action must be 'insert' or 'remove'\");\n\n    // Validate lines type.\n    if (!(delta.lines instanceof Array))\n        throwDeltaError(delta, \"delta.lines must be an Array\");\n\n    // Validate range type.\n    if (!delta.start || !delta.end)\n        throwDeltaError(delta, \"delta.start/end must be an present\");\n\n    // Validate that the start point is contained in the document.\n    var start = delta.start;\n    if (!positionInDocument(docLines, delta.start))\n        throwDeltaError(delta, \"delta.start must be contained in document\");\n\n    // Validate that the end point is contained in the document (remove deltas only).\n    var end = delta.end;\n    if (delta.action == \"remove\" && !positionInDocument(docLines, end))\n        throwDeltaError(delta, \"delta.end must contained in document for 'remove' actions\");\n\n    // Validate that the .range size matches the .lines size.\n    var numRangeRows = end.row - start.row;\n    var numRangeLastLineChars = (end.column - (numRangeRows == 0 ? start.column : 0));\n    if (numRangeRows != delta.lines.length - 1 || delta.lines[numRangeRows].length != numRangeLastLineChars)\n        throwDeltaError(delta, \"delta.range must match delta lines\");\n}\n*/\n\nfunction applyDelta(docLines, delta, doNotValidate) {\n    // disabled validation since it breaks autocompletion popup\n    // if (!doNotValidate)\n    //    validateDelta(docLines, delta);\n\n    var row = delta.start.row;\n    var startColumn = delta.start.column;\n    var line = docLines[row] || \"\";\n    switch (delta.action) {\n        case \"insert\":\n            var lines = delta.lines;\n            if (lines.length === 1) {\n                docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n            } else {\n                var args = [row, 1].concat(delta.lines);\n                docLines.splice.apply(docLines, args);\n                docLines[row] = line.substring(0, startColumn) + docLines[row];\n                docLines[row + delta.lines.length - 1] += line.substring(startColumn);\n            }\n            break;\n        case \"remove\":\n            var endColumn = delta.end.column;\n            var endRow = delta.end.row;\n            if (row === endRow) {\n                docLines[row] = line.substring(0, startColumn) + line.substring(endColumn);\n            } else {\n                docLines.splice(\n                    row, endRow - row + 1,\n                    line.substring(0, startColumn) + docLines[endRow].substring(endColumn)\n                );\n            }\n            break;\n        default:\n            throw new Error(\"Unsupported: \" + delta.action);\n    }\n}\n\n/**\n * Contains the text of the document. Document can be attached to several [[EditSession `EditSession`]]s.\n * At its core, `Document`s are just an array of strings, with each row in the document matching up to the array index.\n *\n * @class Document\n **/\n\nexport default class Document extends EventEmitter {\n    /**\n     *\n     * Creates a new `Document`. If `text` is included, the `Document` contains those strings; otherwise, it's empty.\n     * @param {String | Array} text The starting text\n     * @constructor\n     **/\n\n    constructor(textOrLines) {\n        super();\n        this.$lines = [\"\"];\n        this.$autoNewLine = \"\";\n        this.$newLineMode = \"auto\";\n\n        // There has to be one line at least in the document. If you pass an empty\n        // string to the insert function, nothing will happen. Workaround.\n        if (textOrLines.length === 0) {\n            this.$lines = [\"\"];\n        } else if (Array.isArray(textOrLines)) {\n            this.insertMergedLines({row: 0, column: 0}, textOrLines);\n        } else {\n            this.insert({row: 0, column:0}, textOrLines);\n        }\n    }\n\n   /**\n     * Replaces all the lines in the current `Document` with the value of `text`.\n     *\n     * @param {String} text The text to use\n     **/\n    setValue(text) {\n        var len = this.getLength() - 1;\n        this.remove(new Range(0, 0, len, this.getLine(len).length));\n        this.insert({row: 0, column: 0}, text);\n    }\n\n    /**\n     * Returns all the lines in the document as a single string, joined by the new line character.\n     **/\n    getValue() {\n        return this.getAllLines().join(this.getNewLineCharacter());\n    }\n\n    /**\n     * Creates a new `Anchor` to define a floating point in the document.\n     * @param {Number} row The row number to use\n     * @param {Number} column The column number to use\n     *\n     **/\n    createAnchor(row, column) {\n        return new Anchor(this, row, column);\n    }\n\n    /**\n     * Splits a string of text on any newline (`\\n`) or carriage-return (`\\r`) characters.\n     *\n     * @method $split\n     * @param {String} text The text to work with\n     * @returns {String} A String array, with each index containing a piece of the original `text` string.\n     *\n     **/\n\n    $split(text) {\n            return text.split(/\\r\\n|\\r|\\n/);\n    }\n\n\n    $detectNewLine(text) {\n        var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n        this.$autoNewLine = match ? match[1] : \"\\n\";\n        this._signal(\"changeNewLineMode\");\n    }\n\n    /**\n     * Returns the newline character that's being used, depending on the value of `newLineMode`.\n     * @returns {String} If `newLineMode == windows`, `\\r\\n` is returned.\n     *  If `newLineMode == unix`, `\\n` is returned.\n     *  If `newLineMode == auto`, the value of `autoNewLine` is returned.\n     *\n     **/\n    getNewLineCharacter() {\n        switch (this.$newLineMode) {\n            case \"windows\":\n                return \"\\r\\n\";\n            case \"unix\":\n                return \"\\n\";\n            default:\n                return this.$autoNewLine || \"\\n\";\n        }\n    }\n\n    /**\n     * [Sets the new line mode.]{: #Document.setNewLineMode.desc}\n     * @param {String} newLineMode [The newline mode to use; can be either `windows`, `unix`, or `auto`]{: #Document.setNewLineMode.param}\n     *\n     **/\n    setNewLineMode(newLineMode) {\n        if (this.$newLineMode === newLineMode)\n            return;\n\n        this.$newLineMode = newLineMode;\n        this._signal(\"changeNewLineMode\");\n    }\n\n    /**\n     * [Returns the type of newlines being used; either `windows`, `unix`, or `auto`]{: #Document.getNewLineMode}\n     * @returns {String}\n     **/\n    getNewLineMode() {\n        return this.$newLineMode;\n    }\n\n    /**\n     * Returns `true` if `text` is a newline character (either `\\r\\n`, `\\r`, or `\\n`).\n     * @param {String} text The text to check\n     *\n     **/\n    isNewLine(text) {\n        return (text === \"\\r\\n\" || text === \"\\r\" || text === \"\\n\");\n    }\n\n    /**\n     * Returns a verbatim copy of the given line as it is in the document\n     * @param {Number} row The row index to retrieve\n     *\n     **/\n    getLine(row) {\n        return this.$lines[row] || \"\";\n    }\n\n    /**\n     * Returns an array of strings of the rows between `firstRow` and `lastRow`. This function is inclusive of `lastRow`.\n     * @param {Number} firstRow The first row index to retrieve\n     * @param {Number} lastRow The final row index to retrieve\n     *\n     **/\n    getLines(firstRow, lastRow) {\n        return this.$lines.slice(firstRow, lastRow + 1);\n    }\n\n    /**\n     * Returns all lines in the document as string array.\n     **/\n    getAllLines() {\n        return this.getLines(0, this.getLength());\n    }\n\n    /**\n     * Returns the number of rows in the document.\n     **/\n    getLength() {\n        return this.$lines.length;\n    }\n\n    /**\n     * Returns all the text within `range` as a single string.\n     * @param {Range} range The range to work with.\n     *\n     * @returns {String}\n     **/\n    getTextRange(range) {\n        return this.getLinesForRange(range).join(this.getNewLineCharacter());\n    }\n\n    /**\n     * Returns all the text within `range` as an array of lines.\n     * @param {Range} range The range to work with.\n     *\n     * @returns {Array}\n     **/\n    getLinesForRange(range) {\n        var lines;\n        if (range.start.row === range.end.row) {\n            // Handle a single-line range.\n            lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n        } else {\n            // Handle a multi-line range.\n            lines = this.getLines(range.start.row, range.end.row);\n            lines[0] = (lines[0] || \"\").substring(range.start.column);\n            var l = lines.length - 1;\n            if (range.end.row - range.start.row === l)\n                lines[l] = lines[l].substring(0, range.end.column);\n        }\n        return lines;\n    }\n\n    // Deprecated methods retained for backwards compatibility.\n    insertLines(row, lines) {\n        console.warn(\"Use of document.insertLines is deprecated. Use the insertFullLines method instead.\");\n        return this.insertFullLines(row, lines);\n    }\n\n    removeLines(firstRow, lastRow) {\n        console.warn(\"Use of document.removeLines is deprecated. Use the removeFullLines method instead.\");\n        return this.removeFullLines(firstRow, lastRow);\n    }\n\n    insertNewLine(position) {\n        console.warn(\"Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead.\");\n        return this.insertMergedLines(position, [\"\", \"\"]);\n    }\n\n    /**\n     * Inserts a block of `text` at the indicated `position`.\n     * @param {Object} position The position to start inserting at; it's an object that looks like `{ row: row, column: column}`\n     * @param {String} text A chunk of text to insert\n     * @returns {Object} The position ({row, column}) of the last line of `text`. If the length of `text` is 0, this function simply returns `position`.\n     *\n     **/\n    insert(position, text) {\n        // Only detect new lines if the document has no line break yet.\n        if (this.getLength() <= 1)\n            this.$detectNewLine(text);\n\n        return this.insertMergedLines(position, this.$split(text));\n    }\n\n    /**\n     * Inserts `text` into the `position` at the current row. This method also triggers the `\"change\"` event.\n     *\n     * This differs from the `insert` method in two ways:\n     *   1. This does NOT handle newline characters (single-line text only).\n     *   2. This is faster than the `insert` method for single-line text insertions.\n     *\n     * @param {Object} position The position to insert at; it's an object that looks like `{ row: row, column: column}`\n     * @param {String} text A chunk of text\n     * @returns {Object} Returns an object containing the final row and column, like this:\n     *     ```\n     *     {row: endRow, column: 0}\n     *     ```\n     **/\n    insertInLine(position, text) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = this.pos(position.row, position.column + text.length);\n\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: [text]\n        }, true);\n\n        return this.clonePos(end);\n    }\n\n    clippedPos(row, column) {\n        var length = this.getLength();\n        if (row === undefined) {\n            row = length;\n        } else if (row < 0) {\n            row = 0;\n        } else if (row >= length) {\n            row = length - 1;\n            column = undefined;\n        }\n        var line = this.getLine(row);\n        if (column === undefined)\n            column = line.length;\n        column = Math.min(Math.max(column, 0), line.length);\n        return {row: row, column: column};\n    }\n\n    clonePos(pos) {\n        return {row: pos.row, column: pos.column};\n    }\n\n    pos(row, column) {\n        return {row: row, column: column};\n    }\n\n    $clipPosition(position) {\n        var length = this.getLength();\n        if (position.row >= length) {\n            position.row = Math.max(0, length - 1);\n            position.column = this.getLine(length - 1).length;\n        } else {\n            position.row = Math.max(0, position.row);\n            position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length);\n        }\n        return position;\n    }\n\n    /**\n     * Fires whenever the document changes.\n     *\n     * Several methods trigger different `\"change\"` events. Below is a list of each action type, followed by each property that's also available:\n     *\n     *  * `\"insert\"`\n     *    * `range`: the [[Range]] of the change within the document\n     *    * `lines`: the lines being added\n     *  * `\"remove\"`\n     *    * `range`: the [[Range]] of the change within the document\n     *    * `lines`: the lines being removed\n     *\n     * @event change\n     * @param {Object} e Contains at least one property called `\"action\"`. `\"action\"` indicates the action that triggered the change. Each action also has a set of additional properties.\n     *\n     **/\n\n    /**\n     * Inserts the elements in `lines` into the document as full lines (does not merge with existing line), starting at the row index given by `row`. This method also triggers the `\"change\"` event.\n     * @param {Number} row The index of the row to insert at\n     * @param {Array} lines An array of strings\n     * @returns {Object} Contains the final row and column, like this:\n     *   ```\n     *   {row: endRow, column: 0}\n     *   ```\n     *   If `lines` is empty, this function returns an object containing the current row, and column, like this:\n     *   ```\n     *   {row: row, column: 0}\n     *   ```\n     *\n     **/\n    insertFullLines(row, lines) {\n        // Clip to document.\n        // Allow one past the document end.\n        row = Math.min(Math.max(row, 0), this.getLength());\n\n        // Calculate insertion point.\n        var column = 0;\n        if (row < this.getLength()) {\n            // Insert before the specified row.\n            lines = lines.concat([\"\"]);\n            column = 0;\n        } else {\n            // Insert after the last row in the document.\n            lines = [\"\"].concat(lines);\n            row--;\n            column = this.$lines[row].length;\n        }\n\n        // Insert.\n        this.insertMergedLines({row: row, column: column}, lines);\n    }\n\n    /**\n     * Inserts the elements in `lines` into the document, starting at the position index given by `row`. This method also triggers the `\"change\"` event.\n     * @param {Number} row The index of the row to insert at\n     * @param {Array} lines An array of strings\n     * @returns {Object} Contains the final row and column, like this:\n     *   ```\n     *   {row: endRow, column: 0}\n     *   ```\n     *   If `lines` is empty, this function returns an object containing the current row, and column, like this:\n     *   ```\n     *   {row: row, column: 0}\n     *   ```\n     *\n     **/\n    insertMergedLines(position, lines) {\n        var start = this.clippedPos(position.row, position.column);\n        var end = {\n            row: start.row + lines.length - 1,\n            column: (lines.length === 1 ? start.column : 0) + lines[lines.length - 1].length\n        };\n\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"insert\",\n            lines: lines\n        });\n\n        return this.clonePos(end);\n    }\n\n    /**\n     * Removes the `range` from the document.\n     * @param {Range} range A specified Range to remove\n     * @returns {Object} Returns the new `start` property of the range, which contains `startRow` and `startColumn`. If `range` is empty, this function returns the unmodified value of `range.start`.\n     *\n     **/\n    remove(range) {\n        var start = this.clippedPos(range.start.row, range.start.column);\n        var end = this.clippedPos(range.end.row, range.end.column);\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        });\n        return this.clonePos(start);\n    }\n\n    /**\n     * Removes the specified columns from the `row`. This method also triggers a `\"change\"` event.\n     * @param {Number} row The row to remove from\n     * @param {Number} startColumn The column to start removing at\n     * @param {Number} endColumn The column to stop removing at\n     * @returns {Object} Returns an object containing `startRow` and `startColumn`, indicating the new row and column values.<br/>If `startColumn` is equal to `endColumn`, this function returns nothing.\n     *\n     **/\n    removeInLine(row, startColumn, endColumn) {\n        var start = this.clippedPos(row, startColumn);\n        var end = this.clippedPos(row, endColumn);\n\n        this.applyDelta({\n            start: start,\n            end: end,\n            action: \"remove\",\n            lines: this.getLinesForRange({start: start, end: end})\n        }, true);\n\n        return this.clonePos(start);\n    }\n\n    /**\n     * Removes a range of full lines. This method also triggers the `\"change\"` event.\n     * @param {Number} firstRow The first row to be removed\n     * @param {Number} lastRow The last row to be removed\n     * @returns {[String]} Returns all the removed lines.\n     *\n     **/\n    removeFullLines(firstRow, lastRow) {\n        // Clip to document.\n        firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1);\n        lastRow  = Math.min(Math.max(0, lastRow ), this.getLength() - 1);\n\n        // Calculate deletion range.\n        // Delete the ending new line unless we're at the end of the document.\n        // If we're at the end of the document, delete the starting new line.\n        var deleteFirstNewLine = lastRow === this.getLength() - 1 && firstRow > 0;\n        var deleteLastNewLine  = lastRow  < this.getLength() - 1;\n        var startRow = ( deleteFirstNewLine ? firstRow - 1                  : firstRow                    );\n        var startCol = ( deleteFirstNewLine ? this.getLine(startRow).length : 0                           );\n        var endRow   = ( deleteLastNewLine  ? lastRow + 1                   : lastRow                     );\n        var endCol   = ( deleteLastNewLine  ? 0                             : this.getLine(endRow).length );\n        var range = new Range(startRow, startCol, endRow, endCol);\n\n        // Store delelted lines with bounding newlines ommitted (maintains previous behavior).\n        var deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n\n        this.applyDelta({\n            start: range.start,\n            end: range.end,\n            action: \"remove\",\n            lines: this.getLinesForRange(range)\n        });\n\n        // Return the deleted lines.\n        return deletedLines;\n    }\n\n    /**\n     * Removes the new line between `row` and the row immediately following it. This method also triggers the `\"change\"` event.\n     * @param {Number} row The row to check\n     *\n     **/\n    removeNewLine(row) {\n        if (row < this.getLength() - 1 && row >= 0) {\n            this.applyDelta({\n                start: this.pos(row, this.getLine(row).length),\n                end: this.pos(row + 1, 0),\n                action: \"remove\",\n                lines: [\"\", \"\"]\n            });\n        }\n    }\n\n    /**\n     * Replaces a range in the document with the new `text`.\n     * @param {Range} range A specified Range to replace\n     * @param {String} text The new text to use as a replacement\n     * @returns {Object} Returns an object containing the final row and column, like this:\n     *     {row: endRow, column: 0}\n     * If the text and range are empty, this function returns an object containing the current `range.start` value.\n     * If the text is the exact same as what currently exists, this function returns an object containing the current `range.end` value.\n     *\n     **/\n    replace(range, text) {\n        if (!(range instanceof Range))\n            range = Range.fromPoints(range.start, range.end);\n        if (text.length === 0 && range.isEmpty())\n            return range.start;\n\n        // Shortcut: If the text we want to insert is the same as it is already\n        // in the document, we don't have to replace anything.\n        if (text === this.getTextRange(range))\n            return range.end;\n\n        this.remove(range);\n        var end;\n        if (text) {\n            end = this.insert(range.start, text);\n        }\n        else {\n            end = range.start;\n        }\n\n        return end;\n    }\n\n    /**\n     * Applies all changes in `deltas` to the document.\n     * @param {Array} deltas An array of delta objects (can include \"insert\" and \"remove\" actions)\n     **/\n    applyDeltas(deltas) {\n        for (var i=0; i<deltas.length; i++) {\n            this.applyDelta(deltas[i]);\n        }\n    }\n\n    /**\n     * Reverts all changes in `deltas` from the document.\n     * @param {Array} deltas An array of delta objects (can include \"insert\" and \"remove\" actions)\n     **/\n    revertDeltas(deltas) {\n        for (var i=deltas.length-1; i>=0; i--) {\n            this.revertDelta(deltas[i]);\n        }\n    }\n\n    /**\n     * Applies `delta` to the document.\n     * @param {Object} delta A delta object (can include \"insert\" and \"remove\" actions)\n     **/\n    applyDelta(delta, doNotValidate) {\n        var isInsert = delta.action === \"insert\";\n        // An empty range is a NOOP.\n        if (isInsert ? delta.lines.length <= 1 && !delta.lines[0]\n            : !Range.comparePoints(delta.start, delta.end)) {\n            return;\n        }\n\n        if (isInsert && delta.lines.length > 20000) {\n            this.$splitAndapplyLargeDelta(delta, 20000);\n        }\n        else {\n            applyDelta(this.$lines, delta, doNotValidate);\n            this._signal(\"change\", delta);\n        }\n    }\n\n    $splitAndapplyLargeDelta(delta, MAX) {\n        // Split large insert deltas. This is necessary because:\n        //    1. We need to support splicing delta lines into the document via $lines.splice.apply(...)\n        //    2. fn.apply() doesn't work for a large number of params. The smallest threshold is on chrome 40 ~42000.\n        // we use 20000 to leave some space for actual stack\n        //\n        // To Do: Ideally we'd be consistent and also split 'delete' deltas. We don't do this now, because delete\n        //        delta handling is too slow. If we make delete delta handling faster we can split all large deltas\n        //        as shown in https://gist.github.com/aldendaniels/8367109#file-document-snippet-js\n        //        If we do this, update validateDelta() to limit the number of lines in a delete delta.\n        var lines = delta.lines;\n        var l = lines.length - MAX + 1;\n        var row = delta.start.row;\n        var column = delta.start.column;\n        for (var from = 0, to = 0; from < l; from = to) {\n            to += MAX - 1;\n            var chunk = lines.slice(from, to);\n            chunk.push(\"\");\n            this.applyDelta({\n                start: this.pos(row + from, column),\n                end: this.pos(row + to, column = 0),\n                action: delta.action,\n                lines: chunk\n            }, true);\n        }\n        // Update remaining delta.\n        delta.lines = lines.slice(from);\n        delta.start.row = row + from;\n        delta.start.column = column;\n        this.applyDelta(delta, true);\n    }\n\n    /**\n     * Reverts `delta` from the document.\n     * @param {Object} delta A delta object (can include \"insert\" and \"remove\" actions)\n     **/\n    revertDelta(delta) {\n        this.applyDelta({\n            start: this.clonePos(delta.start),\n            end: this.clonePos(delta.end),\n            action: (delta.action === \"insert\" ? \"remove\" : \"insert\"),\n            lines: delta.lines.slice()\n        });\n    }\n\n    /**\n     * Converts an index position in a document to a `{row, column}` object.\n     *\n     * Index refers to the \"absolute position\" of a character in the document. For example:\n     *\n     * ```javascript\n     * var x = 0; // 10 characters, plus one for newline\n     * var y = -1;\n     * ```\n     *\n     * Here, `y` is an index 15: 11 characters for the first row, and 5 characters until `y` in the second.\n     *\n     * @param {Number} index An index to convert\n     * @param {Number} startRow=0 The row from which to start the conversion\n     * @returns {Object} A `{row, column}` object of the `index` position\n     */\n    indexToPosition(index, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        for (var i = startRow || 0, l = lines.length; i < l; i++) {\n            index -= lines[i].length + newlineLength;\n            if (index < 0)\n                return {row: i, column: index + lines[i].length + newlineLength};\n        }\n        return {row: l-1, column: index + lines[l-1].length + newlineLength};\n    }\n\n    /**\n     * Converts the `{row, column}` position in a document to the character's index.\n     *\n     * Index refers to the \"absolute position\" of a character in the document. For example:\n     *\n     * ```javascript\n     * var x = 0; // 10 characters, plus one for newline\n     * var y = -1;\n     * ```\n     *\n     * Here, `y` is an index 15: 11 characters for the first row, and 5 characters until `y` in the second.\n     *\n     * @param {Object} pos The `{row, column}` to convert\n     * @param {Number} startRow=0 The row from which to start the conversion\n     * @returns {Number} The index position in the document\n     */\n    positionToIndex(pos, startRow) {\n        var lines = this.$lines || this.getAllLines();\n        var newlineLength = this.getNewLineCharacter().length;\n        var index = 0;\n        var row = Math.min(pos.row, lines.length);\n        for (var i = startRow || 0; i < row; ++i)\n            index += lines[i].length + newlineLength;\n\n        return index + pos.column;\n    }\n\n}","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\nconst stopPropagation = function () {\n    this.propagationStopped = true;\n};\n\nconst preventDefault = function () {\n    this.defaultPrevented = true;\n};\n\nexport default class EventEmitter {\n\n    constructor() {\n        this._emit = this._dispatchEvent;\n        this.on = this.addEventListener;\n        this.off = this.removeEventListener;\n        this.removeListener = this.removeEventListener;\n    }\n\n    dispatchEvent(eventName, e) {\n        this._eventRegistry || (this._eventRegistry = {});\n        this._defaultHandlers || (this._defaultHandlers = {});\n\n        var listeners = this._eventRegistry[eventName] || [];\n        var defaultHandler = this._defaultHandlers[eventName];\n        if (!listeners.length && !defaultHandler)\n            return;\n\n        if (typeof e != \"object\" || !e)\n            e = {};\n\n        if (!e.type)\n            e.type = eventName;\n        if (!e.stopPropagation)\n            e.stopPropagation = stopPropagation;\n        if (!e.preventDefault)\n            e.preventDefault = preventDefault;\n\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++) {\n            listeners[i](e, this);\n            if (e.propagationStopped)\n                break;\n        }\n\n        if (defaultHandler && !e.defaultPrevented)\n            return defaultHandler(e, this);\n    }\n\n\n    _signal(eventName, e) {\n        var listeners = (this._eventRegistry || {})[eventName];\n        if (!listeners)\n            return;\n        listeners = listeners.slice();\n        for (var i = 0; i < listeners.length; i++)\n            listeners[i](e, this);\n    }\n\n    once(eventName, callback) {\n        var _self = this;\n        this.addEventListener(eventName, function newCallback() {\n            _self.removeEventListener(eventName, newCallback);\n            callback.apply(null, arguments);\n        });\n        if (!callback) {\n            return new Promise(function (resolve) {\n                callback = resolve;\n            });\n        }\n    }\n\n    setDefaultHandler(eventName, callback) {\n        var handlers = this._defaultHandlers;\n        if (!handlers)\n            handlers = this._defaultHandlers = {_disabled_: {}};\n\n        if (handlers[eventName]) {\n            var old = handlers[eventName];\n            var disabled = handlers._disabled_[eventName];\n            if (!disabled)\n                handlers._disabled_[eventName] = disabled = [];\n            disabled.push(old);\n            var i = disabled.indexOf(callback);\n            if (i !== -1)\n                disabled.splice(i, 1);\n        }\n        handlers[eventName] = callback;\n    }\n\n    removeDefaultHandler(eventName, callback) {\n        var handlers = this._defaultHandlers;\n        if (!handlers)\n            return;\n        var disabled = handlers._disabled_[eventName];\n\n        if (handlers[eventName] === callback) {\n            if (disabled)\n                this.setDefaultHandler(eventName, disabled.pop());\n        } else if (disabled) {\n            var i = disabled.indexOf(callback);\n            if (i !== -1)\n                disabled.splice(i, 1);\n        }\n    }\n\n    addEventListener(eventName, callback, capturing) {\n        this._eventRegistry = this._eventRegistry || {};\n\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            listeners = this._eventRegistry[eventName] = [];\n\n        if (listeners.indexOf(callback) === -1)\n            listeners[capturing ? \"unshift\" : \"push\"](callback);\n        return callback;\n    }\n\n    removeEventListener(eventName, callback) {\n        this._eventRegistry = this._eventRegistry || {};\n\n        var listeners = this._eventRegistry[eventName];\n        if (!listeners)\n            return;\n\n        var index = listeners.indexOf(callback);\n        if (index !== -1)\n            listeners.splice(index, 1);\n    }\n\n    removeAllListeners(eventName) {\n        if (this._eventRegistry)\n            this._eventRegistry[eventName] = [];\n    }\n\n}","import Document from './Document';\nimport { delayedCall } from './lang';\n\nexport default class Mirror {\n    \n    constructor(sender) {\n        this.sender = sender;\n        this.$timeout = 0;\n        this.doc = new Document(\"\");\n        this.deferredUpdate = delayedCall(this.onUpdate.bind(this));\n        sender.on(\"change\", this.processChange.bind(this));\n        sender.on(\"changes\", this.processChanges.bind(this));\n    }\n\n    processChanges(data) {\n        var changes = data.data;\n        for (var i = 0; i < changes.length; i ++) {\n            this.applyChange(changes[i]);\n        }\n        return this.invokeUpdate();\n    }\n\n    processChange(data) {\n        var change = data.data;\n        this.applyChange(change);\n        return this.invokeUpdate();\n    }\n\n    invokeUpdate() {\n        if (this.$timeout)\n            return this.deferredUpdate.schedule(this.$timeout);\n        else\n            this.onUpdate();\n    }\n\n    applyChange(data) {\n        var doc = this.doc;\n        if (data[0].start) {\n            doc.applyDeltas(data);\n        } else {\n            for (var i = 0; i < data.length; i += 2) {\n                var d = Array.isArray(data[i+1]) ?\n                    {action: \"insert\", start: data[i], lines: data[i+1]}\n                    : {action: \"remove\", start: data[i], end: data[i+1]};\n                doc.applyDelta(d, true);\n            }\n        }\n    }\n\n\n    setTimeout(timeout) {\n        this.$timeout = timeout;\n    }\n\n    setValue(value) {\n        this.doc.setValue(value);\n        this.deferredUpdate.schedule(this.$timeout);\n    }\n\n    getValue(callbackId) {\n        this.sender.callback(this.doc.getValue(), callbackId);\n    }\n\n    onUpdate() {\n        // abstract method\n    }\n\n    isPending() {\n        return this.deferredUpdate.isPending();\n    }\n\n}","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\n/**\n * This object is used in various places to indicate a region within the editor. To better visualize how this works, imagine a rectangle. Each quadrant of the rectangle is analogous to a range, as ranges contain a starting row and starting column, and an ending row, and ending column.\n * @class Range\n **/\n\nexport default class Range {\n\n    /**\n     * Creates a new `Range` object with the given starting and ending row and column points.\n     * @param {Number} startRow The starting row\n     * @param {Number} startColumn The starting column\n     * @param {Number} endRow The ending row\n     * @param {Number} endColumn The ending column\n     *\n     * @constructor\n     **/\n    constructor(startRow, startColumn, endRow, endColumn) {\n        this.start = {\n            row: startRow,\n            column: startColumn\n        };\n\n        this.end = {\n            row: endRow,\n            column: endColumn\n        };\n    }\n\n    /**\n     * Returns `true` if and only if the starting row and column, and ending row and column, are equivalent to those given by `range`.\n     * @param {Range} range A range to check against\n     *\n     * @return {Boolean}\n     **/\n    isEqual(range) {\n        return this.start.row === range.start.row &&\n            this.end.row === range.end.row &&\n            this.start.column === range.start.column &&\n            this.end.column === range.end.column;\n    }\n\n    /**\n     *\n     * Returns a string containing the range's row and column information, given like this:\n     * ```\n     *    [start.row/start.column] -> [end.row/end.column]\n     * ```\n     * @return {String}\n     **/\n    toString() {\n        return (\"Range: [\" + this.start.row + \"/\" + this.start.column +\n            \"] -> [\" + this.end.row + \"/\" + this.end.column + \"]\");\n    }\n\n    /**\n     *\n     * Returns `true` if the `row` and `column` provided are within the given range. This can better be expressed as returning `true` if:\n     * ```javascript\n     *    this.start.row <= row <= this.end.row &&\n     *    this.start.column <= column <= this.end.column\n     * ```\n     * @param {Number} row A row to check for\n     * @param {Number} column A column to check for\n     * @returns {Boolean}\n     * @related Range.compare\n     **/\n\n    contains(row, column) {\n        return this.compare(row, column) === 0;\n    }\n\n    /**\n     * Compares `this` range (A) with another range (B).\n     * @param {Range} range A range to compare with\n     *\n     * @related Range.compare\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * <br/>\n     * * `-2`: (B) is in front of (A), and doesn't intersect with (A)<br/>\n     * * `-1`: (B) begins before (A) but ends inside of (A)<br/>\n     * * `0`: (B) is completely inside of (A) OR (A) is completely inside of (B)<br/>\n     * * `+1`: (B) begins inside of (A) but ends outside of (A)<br/>\n     * * `+2`: (B) is after (A) and doesn't intersect with (A)<br/>\n     * * `42`: FTW state: (B) ends in (A) but starts outside of (A)\n     **/\n    compareRange(range) {\n        var cmp,\n            end = range.end,\n            start = range.start;\n\n        cmp = this.compare(end.row, end.column);\n        if (cmp === 1) {\n            cmp = this.compare(start.row, start.column);\n            if (cmp === 1) {\n                return 2;\n            } else if (cmp === 0) {\n                return 1;\n            } else {\n                return 0;\n            }\n        } else if (cmp === -1) {\n            return -2;\n        } else {\n            cmp = this.compare(start.row, start.column);\n            if (cmp === -1) {\n                return -1;\n            } else if (cmp === 1) {\n                return 42;\n            } else {\n                return 0;\n            }\n        }\n    }\n\n    /**\n     * Checks the row and column points of `p` with the row and column points of the calling range.\n     *\n     * @param {Range} p A point to compare with\n     *\n     * @related Range.compare\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * * `0` if the two points are exactly equal<br/>\n     * * `-1` if `p.row` is less then the calling range<br/>\n     * * `1` if `p.row` is greater than the calling range<br/>\n     * <br/>\n     * If the starting row of the calling range is equal to `p.row`, and:<br/>\n     * * `p.column` is greater than or equal to the calling range's starting column, this returns `0`<br/>\n     * * Otherwise, it returns -1<br/>\n     *<br/>\n     * If the ending row of the calling range is equal to `p.row`, and:<br/>\n     * * `p.column` is less than or equal to the calling range's ending column, this returns `0`<br/>\n     * * Otherwise, it returns 1<br/>\n     **/\n    comparePoint(p) {\n        return this.compare(p.row, p.column);\n    }\n\n    /**\n     * Checks the start and end points of `range` and compares them to the calling range. Returns `true` if the `range` is contained within the caller's range.\n     * @param {Range} range A range to compare with\n     *\n     * @returns {Boolean}\n     * @related Range.comparePoint\n     **/\n    containsRange(range) {\n        return this.comparePoint(range.start) === 0 && this.comparePoint(range.end) === 0;\n    }\n\n    /**\n     * Returns `true` if passed in `range` intersects with the one calling this method.\n     * @param {Range} range A range to compare with\n     *\n     * @returns {Boolean}\n     **/\n    intersects(range) {\n        var cmp = this.compareRange(range);\n        return (cmp === -1 || cmp === 0 || cmp === 1);\n    }\n\n    /**\n     * Returns `true` if the caller's ending row point is the same as `row`, and if the caller's ending column is the same as `column`.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     * @returns {Boolean}\n     **/\n    isEnd(row, column) {\n        return this.end.row === row && this.end.column === column;\n    }\n\n    /**\n     * Returns `true` if the caller's starting row point is the same as `row`, and if the caller's starting column is the same as `column`.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     * @returns {Boolean}\n     **/\n    isStart(row, column) {\n        return this.start.row === row && this.start.column === column;\n    }\n\n    /**\n     * Sets the starting row and column for the range.\n     * @param {Number} row A row point to set\n     * @param {Number} column A column point to set\n     *\n     **/\n    setStart(row, column) {\n        if (typeof row === \"object\") {\n            this.start.column = row.column;\n            this.start.row = row.row;\n        } else {\n            this.start.row = row;\n            this.start.column = column;\n        }\n    }\n\n    /**\n     * Sets the starting row and column for the range.\n     * @param {Number} row A row point to set\n     * @param {Number} column A column point to set\n     *\n     **/\n    setEnd(row, column) {\n        if (typeof row === \"object\") {\n            this.end.column = row.column;\n            this.end.row = row.row;\n        } else {\n            this.end.row = row;\n            this.end.column = column;\n        }\n    }\n\n    /**\n     * Returns `true` if the `row` and `column` are within the given range.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     *\n     * @returns {Boolean}\n     * @related Range.compare\n     **/\n    inside(row, column) {\n        if (this.compare(row, column) === 0) {\n            if (this.isEnd(row, column) || this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns `true` if the `row` and `column` are within the given range's starting points.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     * @returns {Boolean}\n     * @related Range.compare\n     **/\n    insideStart(row, column) {\n        if (this.compare(row, column) === 0) {\n            if (this.isEnd(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns `true` if the `row` and `column` are within the given range's ending points.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     * @returns {Boolean}\n     * @related Range.compare\n     *\n     **/\n    insideEnd(row, column) {\n        if (this.compare(row, column) === 0) {\n            if (this.isStart(row, column)) {\n                return false;\n            } else {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Checks the row and column points with the row and column points of the calling range.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     *\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * `0` if the two points are exactly equal <br/>\n     * `-1` if `p.row` is less then the calling range <br/>\n     * `1` if `p.row` is greater than the calling range <br/>\n     *  <br/>\n     * If the starting row of the calling range is equal to `p.row`, and: <br/>\n     * `p.column` is greater than or equal to the calling range's starting column, this returns `0`<br/>\n     * Otherwise, it returns -1<br/>\n     * <br/>\n     * If the ending row of the calling range is equal to `p.row`, and: <br/>\n     * `p.column` is less than or equal to the calling range's ending column, this returns `0` <br/>\n     * Otherwise, it returns 1\n     **/\n    compare(row, column) {\n        if (!this.isMultiLine()) {\n            if (row === this.start.row) {\n                return column < this.start.column ? -1 : (column > this.end.column ? 1 : 0);\n            }\n        }\n\n        if (row < this.start.row)\n            return -1;\n\n        if (row > this.end.row)\n            return 1;\n\n        if (this.start.row === row)\n            return column >= this.start.column ? 0 : -1;\n\n        if (this.end.row === row)\n            return column <= this.end.column ? 0 : 1;\n\n        return 0;\n    }\n\n    /**\n     * Checks the row and column points with the row and column points of the calling range.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * <br/>\n     * `0` if the two points are exactly equal<br/>\n     * `-1` if `p.row` is less then the calling range<br/>\n     * `1` if `p.row` is greater than the calling range, or if `isStart` is `true`.<br/>\n     * <br/>\n     * If the starting row of the calling range is equal to `p.row`, and:<br/>\n     * `p.column` is greater than or equal to the calling range's starting column, this returns `0`<br/>\n     * Otherwise, it returns -1<br/>\n     * <br/>\n     * If the ending row of the calling range is equal to `p.row`, and:<br/>\n     * `p.column` is less than or equal to the calling range's ending column, this returns `0`<br/>\n     * Otherwise, it returns 1\n     *\n     **/\n    compareStart(row, column) {\n        if (this.start.row === row && this.start.column === column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    }\n\n    /**\n     * Checks the row and column points with the row and column points of the calling range.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     *\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * `0` if the two points are exactly equal<br/>\n     * `-1` if `p.row` is less then the calling range<br/>\n     * `1` if `p.row` is greater than the calling range, or if `isEnd` is `true.<br/>\n     * <br/>\n     * If the starting row of the calling range is equal to `p.row`, and:<br/>\n     * `p.column` is greater than or equal to the calling range's starting column, this returns `0`<br/>\n     * Otherwise, it returns -1<br/>\n     *<br/>\n     * If the ending row of the calling range is equal to `p.row`, and:<br/>\n     * `p.column` is less than or equal to the calling range's ending column, this returns `0`<br/>\n     * Otherwise, it returns 1\n     */\n    compareEnd(row, column) {\n        if (this.end.row === row && this.end.column === column) {\n            return 1;\n        } else {\n            return this.compare(row, column);\n        }\n    }\n\n    /**\n     * Checks the row and column points with the row and column points of the calling range.\n     * @param {Number} row A row point to compare with\n     * @param {Number} column A column point to compare with\n     *\n     *\n     * @returns {Number} This method returns one of the following numbers:<br/>\n     * * `1` if the ending row of the calling range is equal to `row`, and the ending column of the calling range is equal to `column`<br/>\n     * * `-1` if the starting row of the calling range is equal to `row`, and the starting column of the calling range is equal to `column`<br/>\n     * <br/>\n     * Otherwise, it returns the value after calling [[Range.compare `compare()`]].\n     *\n     **/\n    compareInside(row, column) {\n        if (this.end.row === row && this.end.column === column) {\n            return 1;\n        } else if (this.start.row === row && this.start.column === column) {\n            return -1;\n        } else {\n            return this.compare(row, column);\n        }\n    }\n\n    /**\n     * Returns the part of the current `Range` that occurs within the boundaries of `firstRow` and `lastRow` as a new `Range` object.\n     * @param {Number} firstRow The starting row\n     * @param {Number} lastRow The ending row\n     *\n     *\n     * @returns {Range}\n     **/\n    clipRows(firstRow, lastRow) {\n        var start, end;\n        if (this.end.row > lastRow)\n            end = {row: lastRow + 1, column: 0};\n        else if (this.end.row < firstRow)\n            end = {row: firstRow, column: 0};\n\n        if (this.start.row > lastRow)\n            start = {row: lastRow + 1, column: 0};\n        else if (this.start.row < firstRow)\n            start = {row: firstRow, column: 0};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    }\n\n    /**\n     * Changes the row and column points for the calling range for both the starting and ending points.\n     * @param {Number} row A new row to extend to\n     * @param {Number} column A new column to extend to\n     *\n     *\n     * @returns {Range} The original range with the new row\n     **/\n    extend(row, column) {\n        var cmp = this.compare(row, column);\n\n        if (cmp === 0)\n            return this;\n        else if (cmp === -1)\n            var start = {row: row, column: column};\n        else\n            var end = {row: row, column: column};\n\n        return Range.fromPoints(start || this.start, end || this.end);\n    }\n\n    isEmpty() {\n        return (this.start.row === this.end.row && this.start.column === this.end.column);\n    }\n\n    /**\n     *\n     * Returns `true` if the range spans across multiple lines.\n     * @returns {Boolean}\n     **/\n    isMultiLine() {\n        return (this.start.row !== this.end.row);\n    }\n\n\n    /**\n     *\n     * Returns a duplicate of the calling range.\n     * @returns {Range}\n     **/\n    clone() {\n        return Range.fromPoints(this.start, this.end);\n    }\n\n    /**\n     *\n     * Returns a range containing the starting and ending rows of the original range, but with a column value of `0`.\n     * @returns {Range}\n     **/\n    collapseRows() {\n        if (this.end.column === 0)\n            return new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0);\n        else\n            return new Range(this.start.row, 0, this.end.row, 0);\n    }\n\n    /**\n     * Given the current `Range`, this function converts those starting and ending points into screen positions, and then returns a new `Range` object.\n     * @param {EditSession} session The `EditSession` to retrieve coordinates from\n     *\n     *\n     * @returns {Range}\n     **/\n    toScreenRange(session) {\n        var screenPosStart = session.documentToScreenPosition(this.start);\n        var screenPosEnd = session.documentToScreenPosition(this.end);\n\n        return new Range(\n            screenPosStart.row, screenPosStart.column,\n            screenPosEnd.row, screenPosEnd.column\n        );\n    }\n\n\n    /* experimental */\n    moveBy = function (row, column) {\n        this.start.row += row;\n        this.start.column += column;\n        this.end.row += row;\n        this.end.column += column;\n    }\n\n    /**\n     * Creates and returns a new `Range` based on the row and column of the given parameters.\n     * @param {Range} start A starting point to use\n     * @param {Range} end An ending point to use\n     *\n     * @returns {Range}\n     **/\n    static fromPoints(start, end) {\n        return new Range(start.row, start.column, end.row, end.column);\n    }\n\n\n    static comparePoints(p1, p2) {\n        return p1.row - p2.row || p1.column - p2.column;\n    }\n\n}","import EventEmitter from './EventEmitter';\n\nexport default class Sender extends EventEmitter {\n\n    callback (data, callbackId) {\n        postMessage({\n            type: \"call\",\n            id: callbackId,\n            data: data\n        });\n    }\n\n    emit(name, data) {\n        postMessage({\n            type: \"event\",\n            name: name,\n            data: data\n        });\n    }\n}\n","/* ***** BEGIN LICENSE BLOCK *****\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * ***** END LICENSE BLOCK ***** */\n\nexport function last(a) {\n    return a[a.length - 1];\n}\n\nexport function stringReverse(string) {\n    return string.split(\"\").reverse().join(\"\");\n}\n\nexport function stringRepeat(string, count) {\n    var result = '';\n    while (count > 0) {\n        if (count & 1)\n            result += string;\n\n        if ((count >>= 1) !== 0)\n            string += string;\n    }\n    return result;\n}\n\nvar trimBeginRegexp = /^\\s\\s*/;\nvar trimEndRegexp = /\\s\\s*$/;\n\nexport function stringTrimLeft(string) {\n    return string.replace(trimBeginRegexp, '');\n}\n\nexport function stringTrimRight(string) {\n    return string.replace(trimEndRegexp, '');\n}\n\nexport function copyObject(obj) {\n    var copy = {};\n    for (var key in obj) {\n        copy[key] = obj[key];\n    }\n    return copy;\n}\n\nexport function copyArray(array){\n    var copy = [];\n    for (var i=0, l=array.length; i<l; i++) {\n        if (array[i] && typeof array[i] == \"object\")\n            copy[i] = this.copyObject(array[i]);\n        else\n            copy[i] = array[i];\n    }\n    return copy;\n}\n\nexport function deepCopy(obj) {\n    if (typeof obj !== \"object\" || !obj)\n        return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n        copy = [];\n        for (var key = 0; key < obj.length; key++) {\n            copy[key] = deepCopy(obj[key]);\n        }\n        return copy;\n    }\n    if (Object.prototype.toString.call(obj) !== \"[object Object]\")\n        return obj;\n\n    copy = {};\n    for (key in obj)\n        copy[key] = deepCopy(obj[key]);\n    return copy;\n}\n\nexport function arrayToMap(arr) {\n    var map = {};\n    for (var i=0; i<arr.length; i++) {\n        map[arr[i]] = 1;\n    }\n    return map;\n}\n\nexport function createMap(props) {\n    var map = Object.create(null);\n    for (var i in props) {\n        map[i] = props[i];\n    }\n    return map;\n}\n\n/*\n * splice out of 'array' anything that === 'value'\n */\nexport function arrayRemove(array, value) {\n    for (var i = 0; i <= array.length; i++) {\n        if (value === array[i]) {\n            array.splice(i, 1);\n        }\n    }\n}\n\nexport function escapeRegExp(str) {\n    // eslint-disable-next-line\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n}\n\nexport function escapeHTML(str) {\n    return (\"\" + str).replace(/&/g, \"&#38;\").replace(/\"/g, \"&#34;\").replace(/'/g, \"&#39;\").replace(/</g, \"&#60;\");\n}\n\nexport function getMatchOffsets(string, regExp) {\n    var matches = [];\n\n    string.replace(regExp, function(str) {\n        matches.push({\n            offset: arguments[arguments.length-2],\n            length: str.length\n        });\n    });\n    return matches;\n}\n\n/* deprecated */\nexport function deferredCall(fcn) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var deferred = function(timeout) {\n        deferred.cancel();\n        timer = setTimeout(callback, timeout || 0);\n        return deferred;\n    };\n\n    deferred.schedule = deferred;\n\n    deferred.call = function() {\n        this.cancel();\n        fcn();\n        return deferred;\n    };\n\n    deferred.cancel = function() {\n        clearTimeout(timer);\n        timer = null;\n        return deferred;\n    };\n\n    deferred.isPending = function() {\n        return timer;\n    };\n\n    return deferred;\n}\n\n\nexport function delayedCall(fcn, defaultTimeout) {\n    var timer = null;\n    var callback = function() {\n        timer = null;\n        fcn();\n    };\n\n    var _self = function(timeout) {\n        if (timer == null)\n            timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n\n    _self.delay = function(timeout) {\n        timer && clearTimeout(timer);\n        timer = setTimeout(callback, timeout || defaultTimeout);\n    };\n    _self.schedule = _self;\n\n    _self.call = function() {\n        this.cancel();\n        fcn();\n    };\n\n    _self.cancel = function() {\n        timer && clearTimeout(timer);\n        timer = null;\n    };\n\n    _self.isPending = function() {\n        return timer;\n    };\n\n    return _self;\n}","import {convertDocumentToObject, getCodebaseLength} from './CodeUtils';\n\nlet prompto = null;\n\n/* need a deferred function for testing with Jest */\nfunction linkPrompto() {\n    // eslint-disable-next-line\n    const globals = global || window || self || this;\n    prompto = globals.prompto;\n}\n\n/* an object which represents a catalog of declarations, classified by type */\nexport default class Catalog {\n\n    constructor(decls, globalContext, filterContext) {\n        linkPrompto();\n        this.readCatalog(globalContext, decls);\n        if (filterContext)\n            this.filterOutDeclarations(filterContext);\n    }\n\n    length() {\n        return getCodebaseLength(this);\n    }\n\n\n    readCatalog(globalContext, decls) {\n        const content = this.loadCatalog(globalContext, decls);\n        this.attributes = content.attributes;\n        this.categories = content.categories;\n        this.enumerations = content.enumerations;\n        this.methods = content.methods;\n        this.tests = content.tests;\n        this.widgets = content.widgets;\n    }\n\n    loadCatalog(globalContext, decls) {\n        if (prompto && decls) {\n            const context = prompto.runtime.Context.newGlobalsContext();\n            // need a fresh context to ensure all get registered\n            context.problemListener = new prompto.problem.ProblemCollector(); // we'll ignore these errors but let's catch them\n            decls.register(context);\n            context.globals = globalContext;\n            const catalog = context.getLocalCatalog();\n            return convertDocumentToObject(catalog);\n        } else\n            return {};\n    }\n\n    filterOutDeclarations(filterContext) {\n        this.filterOutObjects(\"attributes\", filterContext);\n        this.filterOutMethods(filterContext);\n        this.filterOutObjects(\"categories\", filterContext);\n        this.filterOutObjects(\"enumerations\", filterContext);\n        this.filterOutObjects(\"tests\", filterContext);\n        this.filterOutObjects(\"widgets\", filterContext);\n    }\n\n    filterOutObjects(type, filterContext) {\n        if (this[type])\n            this[type] = this[type].filter(name => filterContext.contextForDeclaration(name) === null);\n    }\n\n    filterOutMethods(filterContext) {\n        if (this.methods)\n            this.methods = this.methods.filter(method => this.filterOutMethod(method, filterContext));\n    }\n\n    filterOutMethod(method, filterContext) {\n        const context = filterContext.contextForDeclaration(method.name);\n        if (context === null)\n            return true;\n        // if core has such method, need to check protos\n        if (method.protos.length === 1)\n            return false;\n        const map = filterContext.getRegisteredDeclaration(method.name);\n        method.protos = method.protos.filter(proto=> !map.hasPrototype(proto.proto));\n        return method.protos.length > 0;\n    }\n\n}","// eslint-disable-next-line\nconst globals = global || self || this;\n\n/* a function for inferring dialect from file extension */\nexport const inferDialect = function(path) {\n    return path.substring(path.length-2, path.length-1).toUpperCase();\n};\n\n/* a function for getting a new prompto code parser */\nexport const newParser = function(input, dialect, listener) {\n    const prompto = globals.prompto;\n    const klass = prompto.parser[dialect + \"CleverParser\"];\n    const parser = new klass(input);\n    parser.removeErrorListeners();\n    if(listener)\n        parser.addErrorListener(listener);\n    return parser;\n};\n\n/* a function for parsing prompto code into declarations */\nexport const parse = function(input, dialect, listener) {\n    const parser = newParser(input, dialect, listener);\n    const decls = parser.parse();\n    decls.forEach( decl => {\n        decl.sourceCode = { dialect: dialect, body: decl.fetchBody(parser) };\n    });\n    return decls;\n};\n\n/* a function for producing code from a declaration object */\nexport const unparse = function(context, decl, dialect) {\n    const prompto = globals.prompto;\n    const d = prompto.parser.Dialect[dialect];\n    const writer = new prompto.utils.CodeWriter(d, context.newChildContext());\n    // avoid throwing since this would stop the translation\n    writer.context.problemListener = new prompto.problem.ProblemCollector();\n    if(decl.comments)\n        decl.comments.forEach(cmt => cmt.toDialect(writer));\n    if(decl.annotations)\n        decl.annotations.forEach(ann => ann.toDialect(writer));\n    decl.toDialect(writer);\n    return writer.toString();\n};\n\n/* a function for translating current input to other dialect */\nexport const translate = function(context, data, from, to) {\n    const prompto = globals.prompto;\n    const decls = parse(data, from); // could be cached\n    const dialect = prompto.parser.Dialect[to];\n    const writer = new prompto.utils.CodeWriter(dialect, context.newChildContext());\n    decls.toDialect(writer);\n    return writer.toString();\n};\n\n/* a utility function to sort by field name */\nexport const sortBy = function(a, f) {\n    return a.sort(function(i1,i2) {\n        return (i1[f]>i2[f]) ? 1 : ((i1[f]<i2[f]) ? -1 : 0);\n    });\n};\n\nexport const makeValidId = function(name) {\n    /*eslint no-useless-escape: \"off\"*/\n    return name.replace(/[ /\\.]/g, \"_\").replace(/[\\\"\\'\\(\\),]/g,\"\");\n};\n\n/* use global functions so we can call it on serialized data */\nexport const getCodebaseLength = function(codebase) {\n    if(!codebase)\n        return 0;\n    let length = 0;\n    for(let name in codebase) {\n        if(Array.isArray(codebase[name]))\n            length += codebase[name].length;\n    }\n    return length;\n};\n\nexport const getFirstCodebaseEntry = function(codebase) {\n    if(!codebase)\n        return null;\n    for(let name in codebase) {\n        if(Array.isArray(codebase[name]) && codebase[name].length > 0)\n            return { key: name, value: codebase[name][0] };\n    }\n    return null;\n};\n\nexport const getContentFromEntry = function(entry) {\n    const subType = entry.key===\"categories\" ? \"category\" : entry.key.substring(0, entry.key.length-1);\n    let content = { type: \"prompto\", subType: subType, core: false };\n    switch(subType) {\n        case \"method\":\n            content.name = entry.value.name;\n            content.proto = entry.value.protos[0].proto;\n            break;\n        case \"enumeration\":\n            content.name = entry.value.name;\n            break;\n        default:\n            content.name = entry.value;\n    }\n    return content;\n}\n\nfunction recursivelyConvertDocumentToObject(object) {\n    if(!object)\n        return object;\n    if(Array.isArray(object))\n        return object.map(recursivelyConvertDocumentToObject);\n    if(typeof(object) === typeof({})) {\n        const result = {};\n        if(object.type===\"Document\" && object.value)\n            object = object.value;\n        Object.getOwnPropertyNames(object).forEach(name => result[name] = recursivelyConvertDocumentToObject(object[name]), this);\n        return result;\n    }\n    return object;\n}\n\nexport const convertDocumentToObject = recursivelyConvertDocumentToObject;\n\nfunction recursivelyConvertObjectToDocument(object) {\n    if(!object)\n        return object;\n    if(Array.isArray(object))\n        return object.map(recursivelyConvertObjectToDocument);\n    if(typeof(object) === typeof({})) {\n        const result = {};\n        Object.getOwnPropertyNames(object).forEach(name => result[name] = recursivelyConvertObjectToDocument(object[name]), this);\n        return { type: \"Document\", value: result };\n    }\n    return object;\n}\n\n\nexport const convertObjectToDocument = recursivelyConvertObjectToDocument;","export default {\n    dialect: \"O\"\n};","import { sortBy } from './CodeUtils';\nimport Catalog from './Catalog';\n\n/**\n * An object which represents the delta between 2 catalogs\n * The purpose of this class is to minimize the re-processing in the IDE\n * when code is updated. Typically, various scenarios can occur:\n *  - code body change, this has not impact on the catalog\n *  - declaration removed\n *  - declaration added\n *  - declarations changed, which for global methods adds complexity because\n *  methods are displayed differently depending on their number of prototypes\n *  This follows the assumption that the number of overloads for a method name is generally very low (< 10).\n */\n\n\nexport default class Delta {\n\n    constructor() {\n        this.removed = null;\n        this.added = null;\n    }\n\n    length() {\n        var length = 0;\n        if (this.removed)\n            length += this.removed.length();\n        if (this.added)\n            length += this.added.length();\n        return length;\n    }\n\n    getContent() {\n        return {removed: this.removed, added: this.added};\n    }\n\n    getFirstAdded() {\n        if(!this.added)\n            return null;\n        for(let key in this.added) {\n            const list = this.added[key];\n            if(list && list.length > 0) {\n                const entry = list[0];\n                if (key === \"methods\") {\n                    return { ...{name: entry.name}, ...entry.protos[0] };\n                } else\n                    return entry;\n            }\n        }\n        return null;\n    }\n\n    filterOutDuplicates() {\n        if (!this.removed && !this.added)\n            return 0;\n        if (!this.removed)\n            return this.added.length();\n        if (!this.added)\n            return this.removed.length();\n        var length = this.filterOutDuplicatesInField(\"attributes\");\n        length += this.filterOutDuplicatesInField(\"methods\");\n        length += this.filterOutDuplicatesInField(\"categories\");\n        length += this.filterOutDuplicatesInField(\"enumerations\");\n        length += this.filterOutDuplicatesInField(\"tests\");\n        length += this.filterOutDuplicatesInField(\"widgets\");\n        return length;\n    }\n\n    filterOutDuplicatesInField(field) {\n        var fn = this.filterOutDuplicatesInLists;\n        if (field === \"methods\")\n            fn = this.filterOutDuplicatesInMethods;\n        else if (field === \"enumerations\")\n            fn = (a, b) => this.filterOutDuplicatesInLists(a, b, \"name\");\n        var length = fn.bind(this)(this.removed[field], this.added[field]);\n        // clean up empty lists\n        if (this.removed[field] && !this.removed[field].length)\n            delete this.removed[field];\n        if (this.added[field] && !this.added[field].length)\n            delete this.added[field];\n        return length;\n    }\n\n    filterOutDuplicatesInLists(a, b, field) {\n        if (a && b) {\n            if (field) {\n                sortBy(a, field);\n                sortBy(b, field);\n            } else {\n                a.sort();\n                b.sort();\n            }\n            for (var i = 0, j = 0; i < a.length && j < b.length;) {\n                var va = a[i];\n                if (field)\n                    va = va[field];\n                var vb = b[j];\n                if (field)\n                    vb = vb[field];\n                if (va === vb) {\n                    a.splice(i, 1);\n                    b.splice(j, 1);\n                } else if (va > vb) {\n                    j++;\n                } else {\n                    i++;\n                }\n            }\n            return a.length + b.length;\n        } else if (a)\n            return a.length;\n        else if (b)\n            return b.length;\n        else\n            return 0;\n    }\n\n    filterOutDuplicatesInMethods(a, b) {\n        if (a && b) {\n            sortBy(a, \"name\");\n            sortBy(b, \"name\");\n            for (var i = 0, j = 0; i < a.length && j < b.length;) {\n                if (a[i].name === b[j].name) {\n                    this.filterOutDuplicatesInLists(a[i].protos, b[j].protos, \"proto\");\n                    if (!a[i].protos || !a[i].protos.length)\n                        a.splice(i, 1);\n                    i++;\n                    if (!b[j].protos || !b[j].protos.length)\n                        b.splice(j, 1);\n                    j++;\n                } else if (a[i].name > b[j].name) {\n                    j++;\n                } else {\n                    i++;\n                }\n            }\n            return a.length + b.length;\n        } else if (a)\n            return a.length;\n        else if (b)\n            return b.length;\n        else\n            return 0;\n    }\n\n    adjustForMovingProtos(context) {\n        // methods with 1 proto are displayed differently than methods with multiple protos\n        // if proto cardinality changes from N to 1 or 1 to N, we need to rebuild the corresponding displays\n        if (this.removed && this.removed.methods) {\n            this.removed.methods.forEach(method => {\n                var decl = context.getRegisteredDeclaration(method.name);\n                if (decl && Object.keys(decl.protos).length === 1 && !this.isModifiedProto(method)) // moved from N to 1\n                    this.adjustMethodForRemovedProtos(method, decl);\n            }, this);\n        }\n        if (this.added && this.added.methods) {\n            this.added.methods.forEach(method => {\n                var decl = context.getRegisteredDeclaration(method.name);\n                if (decl && Object.keys(decl.protos).length - method.protos.length === 1) // moved from 1 to N\n                    this.adjustMethodForAddedProtos(method, decl);\n            }, this);\n        }\n        // cleanup\n        if (this.removed && this.removed.methods) {\n            this.removed.methods.forEach(method => {\n                if (method.proto_to_remove) {\n                    method.protos.push(method.proto_to_remove);\n                    sortBy(method.protos, \"proto\");\n                    delete method.proto_to_remove;\n                }\n            });\n        }\n        if (this.added && this.added.methods) {\n            this.added.methods.forEach(method => {\n                if (method.proto_to_add) {\n                    method.protos.push(method.proto_to_add);\n                    sortBy(method.protos, \"proto\");\n                    delete method.proto_to_add;\n                }\n            });\n        }\n    }\n\n\n    isModifiedProto(method) {\n        if (!this.added || !this.added.methods)\n            return false;\n        var added = this.added.methods.filter(m => m.name === method.name);\n        if (added.length === 0)\n            return false;\n        return true;\n    }\n\n    adjustMethodForAddedProtos(method, decl) {\n        var proto = this.findPreExistingProto(method, decl);\n        if (proto) {\n            var proto_to_move = {proto: proto, main: decl.protos[proto].isEligibleAsMain()};\n            // add it to the remove list\n            if (!this.removed)\n                this.removed = new Catalog();\n            var removed = this.findOrCreateMethod(this.removed, method.name);\n            removed.proto_to_remove = proto_to_move;\n            // add it to the add list\n            method.proto_to_add = proto_to_move;\n        }\n    }\n\n\n    findPreExistingProto(method, decl) {\n        for (var proto in decl.protos) {\n            if (decl.protos.hasOwnProperty(proto)) {\n                var found = false;\n                for (var i = 0; !found && i < method.protos.length; i++) {\n                    found = proto === method.protos[i].proto;\n                }\n                if (!found)\n                    return proto;\n            }\n        }\n        return null; // TODO throw error?\n    }\n\n    adjustMethodForRemovedProtos(method, decl) {\n        // the below will only loop once\n        for (var proto in decl.protos) {\n            if (decl.protos.hasOwnProperty(proto)) {\n                this.adjustMethodForRemovedProto(method, decl, proto);\n            }\n        }\n    }\n\n    adjustMethodForRemovedProto(method, decl, proto) {\n        var proto_to_move = {proto: proto, main: decl.protos[proto].isEligibleAsMain()};\n        // add it to the remove list\n        method.proto_to_remove = proto_to_move;\n        // add it to the added list\n        if (!this.added)\n            this.added = new Catalog();\n        var added = this.findOrCreateMethod(this.added, decl.name);\n        // avoid adding it twice (it might have just been added)\n        added.protos.forEach(current => {\n            if (proto_to_move && proto_to_move.proto === current.proto)\n                proto_to_move = null; // don't add it\n        });\n        // not an existing proto ?\n        if (proto_to_move)\n            added.proto_to_add = proto_to_move;\n    }\n\n    findOrCreateMethod (catalog, name) {\n        if (!catalog.methods)\n            catalog.methods = [];\n        for (var i = 0; i < catalog.methods.length; i++) {\n            if (catalog.methods[i].name === name)\n                return catalog.methods[i];\n        }\n        var created = {name: name, protos: []};\n        catalog.methods.push(created);\n        return created;\n    }\n}","import { parse, unparse, newParser, translate } from './CodeUtils';\nimport Catalog from \"./Catalog\";\nimport Delta from \"./Delta\";\n\nlet prompto = null;\nlet profiling = false;\n\n/* need a deferred function for testing with Jest */\nfunction linkPrompto() {\n    // eslint-disable-next-line\n    const globals = global || window || self || this;\n    prompto = globals.prompto;\n}\n\n\n\n/* a class to maintain an up-to-date copy of the repository */\n/* which can be used to detect required changes in the UI, and deltas to commit */\nexport default class Repository {\n\n    constructor() {\n        linkPrompto();\n        this.librariesContext = prompto.runtime.Context.newGlobalsContext();\n        this.projectContext = prompto.runtime.Context.newGlobalsContext();\n        this.projectContext.setParentContext(this.librariesContext);\n        this.moduleId = null;\n        this.lastSuccess = new prompto.declaration.DeclarationList(); // last piece of code successfully registered through handleUpdate\n        this.statuses = {};\n    }\n\n    reset() {\n        this.lastSuccess = new prompto.declaration.DeclarationList();\n    }\n\n    registerLibraryCode(code, dialect) {\n        var decls = parse(code, dialect);\n        decls.register(this.librariesContext);\n    }\n\n    registerLibraryDeclarations(declarations) {\n        declarations.forEach(obj => {\n            var decls = parse(obj.value.body, obj.value.dialect);\n            decls.register(this.librariesContext);\n        }, this);\n    }\n\n    clearLibrariesContext() {\n        this.librariesContext = prompto.runtime.Context.newGlobalsContext();\n        this.projectContext.setParentContext(this.librariesContext);\n    }\n\n\n    publishLibraries() {\n        return { type: \"Document\",\n                value: {\n                    removed: { type: \"Document\", value: {} },\n                    added: this.librariesContext.getCatalog(),\n                    library: true\n                }};\n    }\n\n\n    publishProject() {\n        return { type: \"Document\",\n                value: {\n                    removed: { type: \"Document\", value: {} },\n                    added: this.projectContext.getLocalCatalog(),\n                    project: true\n                }};\n    }\n\n\n    unpublishProject() {\n        var delta = { type: \"Document\",\n                    value: {\n                        removed: this.projectContext.getLocalCatalog(),\n                        added: { type: \"Document\", value: {}}\n                    }};\n        this.projectContext = prompto.runtime.Context.newGlobalsContext();\n        this.projectContext.setParentContext(this.librariesContext);\n        this.statuses = {};\n        return delta;\n    }\n\n    registerProjectDeclarations(moduleId, declarations, progress) {\n        const totalCount = declarations.length;\n        let actualCount = 0;\n        this.moduleId = moduleId;\n        declarations.forEach(obj => {\n            var decl = parse(obj.value.body, obj.value.dialect);\n            decl.register(this.projectContext);\n            if(progress)\n                progress(\"Parsing project code \" + (++actualCount) + \"/\" + totalCount);\n            // prepare for commit\n            var module = obj.value.module;\n            if (module) {\n                // avoid sending back large objects\n                delete obj.value.module.value.dependencies;\n                delete obj.value.module.value.image;\n            }\n            this.registerClean(obj);\n        }, this);\n    }\n\n    getDeclarationBody(content, dialect) {\n        var decl = this.getDeclaration(content);\n        if(decl.sourceCode && decl.sourceCode.dialect === dialect)\n            return decl.sourceCode.body;\n        else\n            return unparse(this.projectContext, decl, dialect);\n    }\n\n\n    getDeclaration(content) {\n        if (content.type === \"TestRef\")\n            return this.projectContext.getRegisteredTest(content.name);\n        else if (content.type === \"MethodRef\") {\n            var methodsMap = this.projectContext.getRegisteredDeclaration(content.name);\n            return methodsMap.protos[content.prototype || \"\"] || methodsMap.getFirst();\n        } else\n            return this.projectContext.getRegisteredDeclaration(content.name);\n    }\n\n    /* dbDecl = object received from the server */\n    idFromDbDecl(dbDecl) {\n        if (dbDecl.type === \"MethodDeclaration\")\n            return dbDecl.value.name + \"/\" + (dbDecl.value.prototype || \"\");\n        else\n            return dbDecl.value.name;\n    }\n\n\n    /* id = object received from the UI */\n    idFromContent(content) {\n        if (content.type === \"MethodRef\")\n            return content.name + \"/\" + (content.prototype || \"\");\n        else\n            return content.name;\n    }\n\n    /* decl = object received from the parser */\n    idFromDecl(decl) {\n        return decl.name + (decl.getProto !== undefined ? \"/\" + (decl.getProto() || \"\") : \"\");\n    }\n\n    registerClean(obj) {\n        var id = this.idFromDbDecl(obj);\n        this.statuses[id] = {stuff: obj, editStatus: \"CLEAN\"};\n    }\n\n\n    registerDestroyed(id) {\n        var obj_status = this.statuses[id];\n        if (obj_status)\n            obj_status.editStatus = \"DELETED\";\n    }\n\n\n    registerDirty(decls, parser, dialect) {\n        decls.forEach(decl => {\n            var decl_obj;\n            var id = this.idFromDecl(decl);\n            var existing = this.statuses[id];\n            if (existing) {\n                decl_obj = existing.stuff.value;\n                var body = decl.fetchBody(parser);\n                if (decl_obj.dialect !== dialect || decl_obj.body !== body) {\n                    decl_obj.dialect = dialect;\n                    decl_obj.body = body;\n                    if (existing.editStatus !== \"CREATED\") // don't overwrite\n                        existing.editStatus = \"DIRTY\";\n                    if (decl.getProto !== undefined)\n                        decl_obj.prototype = decl.getProto();\n                    if (decl.storable !== undefined)\n                        decl_obj.storable = decl.storable;\n                    if (decl.symbols)\n                        decl_obj.symbols = decl.symbols.map(function (s) {\n                            return s.name;\n                        });\n                    if (decl.derivedFrom)\n                        decl_obj.derivedFrom = decl.derivedFrom.map(function (s) {\n                            return s.name;\n                        });\n                    else if(decl_obj.derivedFrom)\n                        decl_obj.derivedFrom = [];\n                    if (decl.annotations)\n                        decl_obj.annotations = decl.annotations.map(function (a) {\n                            return a.name;\n                        });\n                    else if(decl_obj.annotations)\n                        decl_obj.annotations = [];\n                }\n            } else {\n                decl_obj = {\n                    name: decl.name,\n                    version: {\n                        type: \"Version\",\n                        value: \"0.0.1\"\n                    },\n                    dialect: dialect,\n                    body: decl.fetchBody(parser),\n                    module: {\n                        type: \"Module\",\n                        value: {\n                            dbId: this.moduleId\n                        }\n                    }\n                };\n                if (decl.getProto !== undefined)\n                    decl_obj.prototype = decl.getProto();\n                if (decl.storable !== undefined)\n                    decl_obj.storable = decl.storable;\n                if (decl.symbols)\n                    decl_obj.symbols = decl.symbols.map(function (s) {\n                        return s.name;\n                    });\n                if (decl.derivedFrom)\n                    decl_obj.derivedFrom = decl.derivedFrom.map(function (s) {\n                        return s.name;\n                    });\n                if (decl.annotations)\n                    decl_obj.annotations = decl.annotations.map(function (a) {\n                        return a.name;\n                    });\n                this.statuses[id] = {\n                    editStatus: \"CREATED\",\n                    stuff: {\n                        type: decl.getDeclarationType() + \"Declaration\",\n                        value: decl_obj\n                    }\n                };\n            }\n        }, this);\n    }\n\n\n    markChangesCommitted(storedDecls) {\n        storedDecls.forEach(storedDecl => {\n            const id = this.idFromDbDecl(storedDecl);\n            this.statuses[id].stuff.value.dbId = storedDecl.value.dbId;\n            this.statuses[id].editStatus = \"CLEAN\";\n        }, this);\n    }\n\n    clearDeleted() {\n        var deleted = [];\n        for (var id in this.statuses) {\n            if (this.statuses.hasOwnProperty(id) && this.statuses[id].editStatus === \"DELETED\")\n                deleted.push(id);\n        }\n        deleted.forEach(id => {\n            delete this.statuses[id];\n        }, this);\n    }\n\n\n    getEditedDeclarations(contents) {\n        return contents.map( content => {\n            const id = this.idFromContent(content);\n            const status = this.statuses[id];\n            return {type: \"EditedStuff\", value: status};\n        }, this);\n    }\n\n\n    translate(data, from, to) {\n        return translate(this.projectContext, data, from, to);\n    }\n\n\n    handleDestroyed(content) {\n        const id = this.idFromContent(content);\n        this.registerDestroyed(id);\n        var obj_status = this.statuses[id];\n        if (obj_status && obj_status.editStatus === \"DELETED\") {\n            var decls = parse(obj_status.stuff.value.body, obj_status.stuff.value.dialect);\n            decls[0].unregister(this.projectContext);\n            var delta = new Delta();\n            delta.removed = new Catalog(decls, this.librariesContext);\n            delta.filterOutDuplicates();\n            return delta;\n        } else\n            return null;\n    }\n\n\n    handleSetContent(content, dialect, listener) {\n        try {\n            return this.doHandleSetContent(content, dialect, listener);\n        } catch (e) {\n            return this.handleUnhandled(e, listener);\n        }\n    }\n\n    doHandleSetContent(content, dialect, listener) {\n        var decls = parse(content, dialect, listener);\n        var saved_listener = this.projectContext.problemListener;\n        try {\n            this.projectContext.problemListener = listener;\n            decls.check(this.projectContext.newChildContext()); // don't pollute projectContext\n        } finally {\n            this.projectContext.problemListener = saved_listener;\n        }\n        this.lastSuccess = decls; // assume registered content is always parsed successfully\n    }\n\n\n    handleEditContent(content, dialect, listener, selected) {\n        try {\n            return this.doHandleEditContent(content, dialect, listener, selected);\n        } catch (e) {\n            return this.handleUnhandled(e, listener);\n        }\n    }\n\n    handleUnhandled(e, listener) {\n        if (!listener.problems.length) {\n            const problem = {\n                startLine: 1,\n                startColumn: 0,\n                endLine: 1000,\n                endColumn: 1000,\n                type: \"error\",\n                message: \"Invalid syntax!\"\n            };\n            listener.collectProblem(problem);\n        }\n        return null;\n    }\n\n    doHandleEditContent(content, dialect, listener, selected) {\n        const startTime = profiling ? Date.now() : null;\n        const old_decls = this.lastSuccess;\n        const parser = newParser(content, dialect, listener);\n        const new_decls = parser.parse();\n        new_decls.forEach( decl => {\n            decl.sourceCode = { dialect: dialect, body: decl.fetchBody(parser) };\n        });\n        const parseEndTime = profiling ? Date.now() : null;\n        if(profiling)\n            self.logDebug(\"parse time: \" + (parseEndTime - startTime) + \" ms\");\n        // look for duplicates\n        this.checkDuplicates(old_decls, new_decls, listener);\n        const duplicatesEndTime = profiling ? Date.now() : null;\n        if(profiling)\n            self.logDebug(\"check duplicates time: \" + (duplicatesEndTime - parseEndTime) + \" ms\");\n        // only update codebase if syntax is correct and there is no foreseeable damage\n        if (listener.problems.length === 0) {\n            this.lastSuccess = new_decls;\n            const delta = this.updateCodebase(old_decls, new_decls, parser, dialect, listener);\n            const updateEndTime = profiling ? Date.now() : null;\n            if(profiling)\n                self.logDebug(\"repo update time: \" + (updateEndTime - duplicatesEndTime) + \" ms\");\n            if(delta) {\n                const $delta = delta.getContent();\n                if (selected && new_decls.length === 1) // object might have been renamed\n                    $delta.selected = new_decls[0].name;\n                $delta.editedCount = new_decls.length;\n                if(old_decls.length<=1 && new_decls.length===1)\n                    $delta.newContent = delta.getFirstAdded();\n                return $delta;\n            } else\n                return null;\n        } else\n            return null;\n    }\n\n\n    checkDuplicates(old_decls, new_decls, listener) {\n        return new_decls.some(decl => {\n            if(this.isDuplicate(decl, old_decls)) {\n                listener.reportDuplicate(decl.name, decl);\n                return true;\n            } else\n                return false;\n        }, this);\n    }\n\n\n    isDuplicate(decl, old_decls) {\n        // if updating an existing declaration, not a duplicate\n        // TODO refine for method protos\n        if(old_decls.some(old => old.name === decl.name))\n            return false;\n        const existing = this.projectContext.getRegisteredDeclaration(decl.name);\n        if(existing instanceof prompto.runtime.MethodDeclarationMap) {\n            if(decl instanceof prompto.declaration.BaseMethodDeclaration)\n                return existing.hasProto(decl.getProto());\n            else\n                return true;\n        }\n        return !!existing;\n    }\n\n    updateCodebase(old_decls, new_decls, parser, dialect, listener) {\n        var delta = new Delta();\n        delta.removed = new Catalog(old_decls, this.projectContext, this.librariesContext);\n        delta.added = new Catalog(new_decls, this.projectContext, this.librariesContext);\n        var changedIdsCount = delta.filterOutDuplicates();\n        var handled = this.updateRenamed(changedIdsCount, old_decls, new_decls, parser, dialect);\n        this.updateAppContext(old_decls, new_decls, listener);\n        if (!handled) {\n            // either no change in ids, or more than one\n            // simply mark new decls as dirty, don't destroy old ones, since this can\n            // be achieved safely through an explicit action in the UI\n            this.registerDirty(new_decls, parser, dialect);\n        }\n        if (changedIdsCount !== 0) {\n            delta.adjustForMovingProtos(this.projectContext);\n            return delta;\n        } else\n            return null; // no UI update required\n    }\n\n    updateRenamed(changedIdsCount, old_decls, new_decls, parser, dialect) {\n        // special case when changing id of a declaration, try connect to the previous version\n        if (changedIdsCount !== 2 || old_decls.length === 0 || new_decls.length !== old_decls.length)\n            return false;\n        // locate new declaration, for which there is no existing status entry\n        var decls_with_status = new_decls.filter(decl => {\n            var id = this.idFromDecl(decl);\n            var status = this.statuses[id] || null;\n            return status === null;\n        }, this);\n        if (decls_with_status.length === 1) {\n            var new_decl = decls_with_status[0];\n            var new_id = this.idFromDecl(new_decl);\n            var new_status = this.statuses[new_id];\n            // locate corresponding old declaration\n            var orphan_decls = old_decls.filter(function (decl) {\n                var id = this.idFromDecl(decl);\n                return new_decls.filter(function (decl) {\n                    return id === this.idFromDecl(decl);\n                }, this).length === 0;\n            }, this);\n            if (orphan_decls.length === 1) {\n                var old_decl = orphan_decls[0];\n                var old_id = this.idFromDecl(old_decl);\n                var old_status = this.statuses[old_id];\n                // all ok, move the object\n                if (old_status && !new_status) {\n                    // update statuses\n                    this.statuses[new_id] = this.statuses[old_id];\n                    delete this.statuses[old_id];\n                    // update status obj\n                    new_status = old_status;\n                    if (new_status.editStatus !== \"CREATED\") // don't overwrite\n                        new_status.editStatus = \"DIRTY\";\n                    // update declaration obj\n                    new_status.stuff.type = new_decl.getDeclarationType() + \"Declaration\";\n                    var decl_obj = new_status.stuff.value;\n                    decl_obj.name = new_decl.name;\n                    decl_obj.dialect = dialect;\n                    decl_obj.body = new_decl.fetchBody(parser);\n                    if (new_decl.getProto !== undefined)\n                        decl_obj.prototype = new_decl.getProto();\n                    if (new_decl.storable !== undefined)\n                        decl_obj.storable = new_decl.storable;\n                    return true;\n                }\n            }\n        }\n        // done\n        return false;\n    }\n\n    updateAppContext(old_decls, new_decls, listener) {\n        old_decls.unregister(this.projectContext); // TODO: manage damage on objects referring to these\n        new_decls.unregister(this.projectContext); // avoid duplicate declaration errors\n        var saved_listener = this.projectContext.problemListener;\n        try {\n            this.projectContext.problemListener = listener;\n            new_decls.register(this.projectContext);\n            new_decls.check(this.projectContext.newChildContext()); // don't pollute projectContext\n        } finally {\n            this.projectContext.problemListener = saved_listener;\n        }\n    }\n\n    locateContent(stackFrame) {\n        if (stackFrame.categoryName && stackFrame.categoryName.length)\n            return this.locateCategoryContent(stackFrame);\n        else\n            return this.locateMethodContent(stackFrame);\n    }\n\n    locateCategoryContent(stackFrame) {\n        let decl = this.librariesContext.getRegisteredDeclaration(stackFrame.categoryName);\n        if(decl)\n            return {type: \"Prompto\", subType: this.subTypeFromDeclaration(decl), name: stackFrame.categoryName, core: true};\n        decl = this.projectContext.getRegisteredDeclaration(stackFrame.categoryName);\n        if(decl)\n            return { type: \"Prompto\", subType: this.subTypeFromDeclaration(decl), name: stackFrame.categoryName, core: false };\n        else\n            return null;\n    }\n\n    subTypeFromDeclaration(decl) {\n        if (decl instanceof prompto.declaration.EnumeratedCategoryDeclaration || decl instanceof prompto.declaration.EnumeratedNativeDeclaration)\n            return \"enumeration\";\n        else\n            return \"category\";\n    }\n\n\n    locateMethodContent(stackFrame) {\n        let testMethod = this.librariesContext.getRegisteredTest(stackFrame.methodName);\n        if(testMethod)\n            return { type: \"Prompto\", subType: \"test\", name: stackFrame.methodName, core: true, main: false };\n        let methodsMap = this.librariesContext.getRegisteredDeclaration(stackFrame.methodName);\n        if(methodsMap) {\n            const method = stackFrame.methodProto ? methodsMap.protos[stackFrame.methodProto] : methodsMap.getFirst();\n            if(method)\n                return { type: \"Prompto\", subType: \"method\", name: stackFrame.methodName, proto: stackFrame.methodProto, core: true, main: method.isEligibleAsMain() };\n        }\n        testMethod = this.projectContext.getRegisteredTest(stackFrame.methodName);\n        if(testMethod)\n            return { type: \"Prompto\", subType: \"test\", name: stackFrame.methodName, core: false, main: false };\n        methodsMap = this.projectContext.getRegisteredDeclaration(stackFrame.methodName);\n        if(methodsMap) {\n            const method = stackFrame.methodProto ? methodsMap.protos[stackFrame.methodProto] : methodsMap.getFirst();\n            if(method)\n                return { type: \"Prompto\", subType: \"method\", name: stackFrame.methodName, proto: stackFrame.methodProto, core: false, main: method.isEligibleAsMain() };\n        }\n        return null;\n    }\n\n    locateSection(breakpoint) {\n        let declaration = null;\n        if (breakpoint.type === \"category\")\n            declaration = this.projectContext.getRegisteredDeclaration(breakpoint.name);\n        else if (breakpoint.type === \"method\") {\n            const methods = this.projectContext.getRegisteredDeclaration(breakpoint.name);\n            if (methods)\n                declaration = methods.protos[breakpoint.prototype];\n        } else if (breakpoint.type === \"test\")\n            declaration = this.projectContext.getRegisteredTest(breakpoint.name);\n        if(declaration==null)\n            return null;\n        let section = declaration.locateSectionAtLine(breakpoint.line);\n        if(section==null)\n            return null;\n        section = new prompto.parser.Section(section).asObject();\n        if(!section.path)\n            section.path = \"store:/\" + breakpoint.type + \"/\" + breakpoint.name + (breakpoint.type===\"method\" ? \"/\" + breakpoint.prototype : \"\");\n        return section\n    }\n\n}\n","import Runner from \"./Runner\";\n\n// eslint-disable-next-line\nconst globals = self || window;\nconst prompto = globals.prompto;\n\nexport default class LocalInterpreter extends Runner {\n\n    runMethod(repo, methodRef, callback) {\n        try {\n            prompto.runtime.Interpreter.interpret(repo.projectContext, methodRef.name, \"\");\n        } finally {\n            callback();\n        }\n    }\n\n    runTest(repo, testRef, callback) {\n        const store = prompto.store.$DataStore.instance;\n        prompto.store.$DataStore.instance = new prompto.memstore.MemStore();\n        try {\n            prompto.runtime.Interpreter.interpretTest(repo.projectContext, testRef.name);\n        } finally {\n            prompto.store.$DataStore.instance = store;\n            callback();\n        }\n    }\n\n}\n","export default class Runner {\n\n    runMethod(projectId, repo, methodRef, callback) {\n        throw new Error(\"Unsupported!\");\n    }\n\n    runTest(projectId, repo, testRef, callback) {\n        throw new Error(\"Unsupported!\");\n    }\n\n}\n\n\n\n\n\n","import axios from \"axios\";\n\n// eslint-disable-next-line\nconst globals = self || window;\n\nexport default class Fetcher {\n\n    constructor() {\n        this.$authorization = null;\n        this.onSuccess = this.onSuccess.bind(this);\n        this.prepareConfig = this.prepareConfig.bind(this);\n        this.collectHeaders = this.collectHeaders.bind(this);\n    }\n\n    prepareConfig(url) {\n        if (url[0] !== \"/\" && url[0] !== \".\") {\n            let headers = { \"Access-Control-Allow-Origin\": \"*\" };\n            if(this.$authorization !== null)\n                headers =  { ...headers, \"X-Authorization\": this.$authorization };\n            return { withCredentials: true, headers: headers};\n        } else\n            return {};\n    }\n\n    postJSON(url, params, success, errored) {\n        this.postTEXT(url, params, text => {\n            const json = typeof(text)===typeof('') ? JSON.parse(text) : text; // already transformed by axios\n            success(json);\n        }, errored);\n    }\n\n    postTEXT(url, params, success, errored) {\n        errored = errored || console.log;\n        const config = this.prepareConfig(url);\n        axios.post(url, params, config)\n            .then(resp => this.onSuccess(resp, url, success, errored))\n            .catch(errored);\n    }\n\n\n    getJSON(url, params, success, errored) {\n        this.getTEXT(url, params, text => {\n            const json = typeof(text)===typeof('') ? JSON.parse(text) : text; // already transformed by axios\n            success(json);\n        }, errored);\n    }\n\n    getTEXT(url, params, success, errored) {\n        errored = errored || console.log;\n        let config = this.prepareConfig(url);\n        if(params)\n            config = { ...config, params: params};\n        axios.get(url, config)\n           .then(resp => this.onSuccess(resp, url, success, errored))\n           .catch(errored);\n    }\n\n    onSuccess(response, url, success, errored) {\n        if (response.status === 200) {\n            this.collectHeaders(response, url);\n            success(response.data);\n        } else\n            errored(\"Failed to load \" + url + \", error: \" + response.status);\n    }\n\n    collectHeaders(response, url) {\n        // only read headers from server\n        if (url[0] === \"/\" || url[0] === \".\")\n            this.$authorization = response.headers[\"X-Authorization\"] || null;\n    }\n\n    clearModuleContext(projectId, success, errored) {\n        const args = [ {name:\"dbId\", value: projectId}];\n        const params = { params: JSON.stringify(args) };\n        axios.get('/ws/run/clearModuleContext', { params: params })\n            .then(resp => {\n                const response = resp.data;\n                if (response.error)\n                    ; // TODO something\n                else if(response.data === -1)\n                    alert(\"Server is not running!\");\n                else if(success)\n                    success(response.data);\n            })\n            .catch(error => errored ? errored(error) : {} );\n    }\n\n    fetchModulePort(projectId, action, success, errored) {\n        const args = [ {name:\"dbId\", value: projectId}, {name:\"action\", type: \"Text\", value: action} ];\n        const params = { params: JSON.stringify(args) };\n        axios.get('/ws/run/fetchModulePort', { params: params })\n            .then(resp => {\n                const response = resp.data;\n                if (response.error)\n                    ; // TODO something\n                else if(response.data === -1)\n                    alert(\"Server is not running!\");\n                else\n                    success(response.data);\n            })\n            .catch(error => errored(error));\n    }\n\n    fetchModuleURL(projectId, action, success, errored) {\n        this.fetchModulePort(projectId, action, port => {\n            const href = globals.location.protocol +\n                \"//\" + globals.location.hostname +\n                \":\" + port + \"/\";\n            success(href);\n        }, errored);\n    }\n\n}\n\nFetcher.instance = new Fetcher(); // singleton needed to register $authorization across calls\n","// eslint-disable-next-line\nconst globals = self;\nglobals.Honey = {'requirePath': ['..']}; // walk up to js folder\nglobals.importScripts(\"/js/lib/require.js\", \"/js/lib/prompto.core.bundle.js\");\n\nconst log = function() {\n    var e = Array.prototype.slice.call(arguments, 0);\n    globals.logDebug(e);\n    postMessage({\n        type: \"log\",\n        data: e\n    });\n};\n\nglobals.logDebug = console.log;\nconsole.error = console.warn = console.log = console.trace = log;\n\n/* not Webpacking this yet because that would require webpacking and installing prompto runtime too, which is not ready yet */\n\nconst ProblemCollector = globals[\"prompto\"].problem.ProblemCollector;\n\n/* ES6 inheritance crashes here */\n\nfunction AnnotatingErrorListener(problems) {\n    const pc = new ProblemCollector(problems);\n    pc.collectProblem = function(problem) {\n        // convert to ACE annotation\n        problem = { row : problem.startLine - 1,\n            column : problem.startColumn,\n            endRow : problem.endLine - 1,\n            endColumn : problem.endColumn,\n            type : problem.type,\n            text : problem.message };\n        this.problems.push(problem);\n    };\n    return pc;\n}\n\nglobals.AnnotatingErrorListener = AnnotatingErrorListener;\n\n","import Mirror from '../ace/Mirror';\nimport Repository from '../code/Repository';\nimport Defaults from '../code/Defaults';\nimport Fetcher from '../utils/Fetcher';\nimport LocalInterpreter from \"../runner/LocalInterpreter\";\nimport {convertObjectToDocument} from \"../code/CodeUtils\";\n\n// eslint-disable-next-line\nconst globals = self || window;\n\nexport default class PromptoWorker extends Mirror {\n\n    constructor(sender) {\n        super(sender);\n        this.$projectId = null;\n        this.$project = null;\n        this.$dialect = Defaults.dialect;\n        this.$value = \"\"; // the last value received\n        this.$repo = new Repository();\n        this.$loading = {};\n        this.$selected = null;\n        this.onInit();\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    onInit() {\n        this.markLoading(\"Project\");\n        // fake 'library' to ensure libraries are published only once dependencies are loaded\n        this.markLoading(\"%Description%\");\n        this.loadCore();\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    onUpdate() {\n        const value = this.doc.getValue();\n        let problems = this.handleSetContent(value);\n        if (problems == null)\n            problems = this.handleEditContent(value);\n        this.$value = value;\n        // changing the below requires evolving PromptoChangeManager\n        this.sender.emit(\"annotate\", problems);\n    }\n\n    progress(text) {\n        this.sender.emit(\"progressed\", text);\n    }\n\n    loadCore() {\n        this.markLoading(\"Core\");\n        this.progress( \"Fetching Core code\");\n        Fetcher.instance.getTEXT(\"/prompto/prompto.pec\", null, text => {\n            this.progress(\"Loading Core code\");\n            this.$repo.registerLibraryCode(text, \"E\");\n            this.markLoaded(\"Core\");\n        });\n    }\n\n    setProject(projectId, loadDependencies) {\n        this.$projectId = projectId;\n        this.unpublishProject();\n        this.loadProject(loadDependencies);\n    }\n\n    setContent(content, clearValue) {\n        this.$selected = content;\n        if(clearValue) {\n            this.$value = null; // next update will be setting the value\n            this.$repo.reset();\n        }\n    }\n\n    handleSetContent(value) {\n        if (this.$value)\n            return null;\n        if (this.$selected && value.length) {\n            const errorListener = new globals.AnnotatingErrorListener();\n            this.$repo.handleSetContent(value, this.$dialect, errorListener);\n            return errorListener.problems;\n        } else\n            return null;\n    }\n\n    handleEditContent(value) {\n        if(value !== this.$value) {\n            const errorListener = new globals.AnnotatingErrorListener();\n            const delta = this.$repo.handleEditContent(value, this.$dialect, errorListener, this.$selected);\n            if (delta) {\n                const data = convertObjectToDocument(delta);\n                this.sender.emit(\"catalogUpdated\", data);\n            } else if(this.$selected)\n                this.sender.emit(\"bodyEdited\", this.$selected);\n            return errorListener.problems;\n        } else\n            return [];\n    }\n\n    setDialect(dialect) {\n        const old = this.$dialect;\n        this.$dialect = dialect;\n        if(old && dialect!==old) {\n            const value = this.doc.getValue();\n            if(value) {\n                // remember value since it does not result from an edit\n                this.$value = this.$repo.translate(value, old, dialect);\n                this.sender.emit(\"value\", this.$value);\n            }\n        }\n    }\n\n    getContentBody(content) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const body = content ? this.$repo.getDeclarationBody(content, this.$dialect) : \"\";\n        this.sender.callback(body, callbackId);\n    }\n\n    getEditedContents(contents) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const edited = this.$repo.getEditedDeclarations(contents);\n        this.sender.callback(edited, callbackId);\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    locateContent(stackFrame) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const content = this.$repo.locateContent(stackFrame);\n        this.sender.callback(content, callbackId);\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    locateSection(breakpoint) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const section = this.$repo.locateSection(breakpoint);\n        this.sender.callback(section, callbackId);\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    destroyContent(content) {\n        this.$value = \"\";\n        const delta = this.$repo.handleDestroyed(content);\n        if(delta) {\n            const data = convertObjectToDocument(delta.getContent());\n            this.sender.emit(\"catalogUpdated\", data);\n        }\n        this.sender.emit(\"value\", this.$value);\n    }\n\n    loadProject(loadDependencies) {\n        this.progress(\"Fetching project description\");\n        PromptoWorker.fetchProjectDescription(this.$projectId, true, response => {\n            if (response.error)\n                this.handleError(response.error);\n            else {\n                this.progress( \"Fetching project description complete\");\n                this.$project = response.data.value;\n                if (loadDependencies)\n                    this.loadDependencies();\n                // noinspection JSUnresolvedVariable\n                if (this.$project.stubResource) try {\n                    // resource location is absolute\n                    globals.importScripts(\"/stub?moduleId=\" + this.$project.dbId + \"&resourceName=\" + this.$project.stubResource);\n                } catch(e) {\n                    // TODO something\n                    const trace = e.stack;\n                    console.error(trace);\n                }\n                this.markLoaded(\"%Description%\");\n                this.progress(\"Fetching project code\");\n                PromptoWorker.fetchModuleDeclarations(this.$projectId, response => {\n                    if (response.error)\n                        this.handleError(response.error);\n                    else {\n                        this.progress( \"Parsing project code\");\n                        const cursor = response.data.value;\n                        this.$repo.registerProjectDeclarations(this.$projectId, cursor.items, this.progress.bind(this));\n                        this.markLoaded(\"Project\");\n                    }\n                });\n            }\n        });\n    }\n\n    loadDependencies() {\n        if(this.$project.dependencies) {\n            this.$project.dependencies.value\n                .filter(dep => dep!=null)\n                .map(dep=>this.loadDependency(dep.value || dep), this);\n        }\n    }\n\n\n    loadDependency(dependency) {\n        this.markLoading(dependency.name);\n        PromptoWorker.fetchModuleDescription(dependency.name, dependency.version, response => {\n            if(response.error)\n                this.handleError(response.error);\n            else {\n                const library = response.data.value;\n                // noinspection JSUnresolvedVariable\n                if(library.stubResource) {\n                    try {\n                        // resource location is absolute\n                        globals.importScripts(\"/stub?moduleId=\" + library.dbId + \"&resourceName=\" + library.stubResource);\n                    } catch(e) {\n                        // TODO something\n                        const trace = e.stack;\n                        console.error(trace);\n                    }\n                }\n                this.progress( \"Fetching \" + dependency.name + \" code\");\n                PromptoWorker.fetchModuleDeclarations(library.dbId, response => {\n                    if (response.error)\n                        this.handleError(response.error);\n                    else {\n                        this.progress( \"Parsing \" + dependency.name + \" code\");\n                        const cursor = response.data.value;\n                        this.$repo.registerLibraryDeclarations(cursor.items);\n                        this.markLoaded(dependency.name);\n                    }\n                });\n            }\n        });\n    }\n\n    handleError(error) {\n        // TODO\n    }\n\n    // TODO reconnect this stuff\n    // noinspection JSUnusedGlobalSymbols\n    dependenciesUpdated() {\n        this.$repo.clearLibrariesContext();\n        this.markLoading(\"Project\");\n        // fake 'library' to ensure libraries are published only once dependencies are loaded\n        this.markLoading(\"%Description%\");\n        this.loadCore();\n        this.loadProject(true);\n    }\n\n    static fetchProjectDescription(projectId, register, success) {\n        const params = [ {name:\"dbId\", value:projectId.toString()}, {name:\"register\", type:\"Boolean\", value:register}];\n        const url = '/ws/run/fetchModuleDescription';\n        Fetcher.instance.getJSON(url, { params: JSON.stringify(params) }, success);\n    }\n\n    static fetchModuleDescription(name, version, success) {\n        const params = [ {name:\"name\", type:\"Text\", value:name}, {name:\"version\", type:version.type, value:version.value}, {name:\"register\", type:\"Boolean\", value:false} ];\n        const url = '/ws/run/fetchModuleDescription';\n        Fetcher.instance.getJSON(url, { params: JSON.stringify(params) }, success);\n    }\n\n    static fetchModuleDeclarations(moduleId, success) {\n        const params = [ {name:\"dbId\", value:moduleId.toString()}];\n        const url = '/ws/run/fetchModuleDeclarations';\n        Fetcher.instance.getJSON(url, { params: JSON.stringify(params) }, success);\n    }\n\n\n    publishLibraries(complete) {\n        const catalog = this.$repo.publishLibraries();\n        this.sender.emit(\"catalogLoaded\", [ catalog, complete ]);\n    }\n\n    publishProject(complete) {\n        const catalog = this.$repo.publishProject();\n        this.sender.emit(\"catalogLoaded\", [ catalog, complete ]);\n    }\n\n    unpublishProject() {\n        const catalog = this.$repo.unpublishProject();\n        this.sender.emit(\"catalogLoaded\", [ catalog, false ]);\n    }\n\n    markLoading(name) {\n        this.$loading[name] = true;\n    }\n\n    markLoaded (name) {\n        if(name !== \"%Description%\")\n            this.progress( \"Loading \" + name + \" complete\");\n        delete this.$loading[name];\n        const complete = Object.keys(this.$loading).length === 0;\n        // is this the Project ?\n        if(name===\"Project\")\n            this.publishProject(complete);\n        // is this the last library ?\n        else if (Object.keys(this.$loading).length === 1 && \"Project\" in this.$loading)\n            this.publishLibraries(complete);\n        // is this the last loading\n        else if (complete)\n            this.publishLibraries(complete);\n    }\n\n    markChangesCommitted() {\n        PromptoWorker.fetchModuleDeclarations(this.$projectId, response => {\n            if (response.error)\n                this.handleError(response.error);\n            else {\n                const cursor = response.data.value;\n                this.$repo.markChangesCommitted(cursor.items);\n                this.$repo.clearDeleted();\n             }\n        });\n    }\n\n    runMethod(methodRef) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const oldLog = console.log;\n        console.log = this.progress.bind(this);\n        const runner = new LocalInterpreter();\n        try {\n            runner.runMethod(this.$repo, methodRef, () => this.sender.callback(null, callbackId));\n        } finally {\n            console.log = oldLog;\n        }\n\n    }\n\n    runTest(testRef) {\n        const callbackId = arguments[arguments.length - 1]; // callbackId is added by ACE\n        const oldLog = console.log;\n        console.log = this.progress.bind(this);\n        const runner = new LocalInterpreter();\n        try {\n            runner.runTest(this.$repo, testRef, () => this.sender.callback(null, callbackId));\n        } finally {\n            console.log = oldLog;\n        }\n    }\n\n\n}"],"sourceRoot":""}